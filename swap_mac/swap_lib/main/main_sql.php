<?php  class DBManager { var $OSWAP_1e6622d5de1086c0e5a626ddeac8cd04 = ''; var $OSWAP_ee5c3d2ff8ce94dfde1ecd42f2a5dac1 = ''; var $OSWAP_63420d7d5304b8a3dac990e48bbc170e = ''; var $OSWAP_181b8e297a61a1e29bc34d1a2b0b3ab2 = ''; function __construct($OSWAP_94069357985fb2ce32ce7236d060876a,$OSWAP_30b31a94e0c5a437f6c1c6006e473bc5,$OSWAP_c9d58e6756676f02d347c255bcb6b03b,$OSWAP_191c8f758d6a7ffd09fcee2b299c259a) { $this->OSWAP_1e6622d5de1086c0e5a626ddeac8cd04 = $OSWAP_94069357985fb2ce32ce7236d060876a; $this->OSWAP_ee5c3d2ff8ce94dfde1ecd42f2a5dac1 = $OSWAP_30b31a94e0c5a437f6c1c6006e473bc5; $this->OSWAP_63420d7d5304b8a3dac990e48bbc170e = $OSWAP_c9d58e6756676f02d347c255bcb6b03b; $this->OSWAP_181b8e297a61a1e29bc34d1a2b0b3ab2 = $OSWAP_191c8f758d6a7ffd09fcee2b299c259a; } function createFromFile($OSWAP_fe7a81a7636f76f8b5ade2206bd80b9eStr,$OSWAP_d0ac2563eba2fb70780457a6422eb9be = '(;\n)|((;\r\n))|(;\r)',$OSWAP_e8f9c743d01cf9b538554a0bc503b0e4 = '',$OSWAP_c876069affd8fcf70611bb404d9fdb1center = array('#','--')) { $OSWAP_20740d845bdb8497ea090fd1ba806bf1 = explode(";",trim($OSWAP_fe7a81a7636f76f8b5ade2206bd80b9eStr)); foreach($OSWAP_20740d845bdb8497ea090fd1ba806bf1 as & $OSWAP_2b57f54c2c39395014f66a1d8ad0fe7b) { $OSWAP_f2c99f79c6f8e6bb88ae435aa75a1d75 = explode("\n",$OSWAP_2b57f54c2c39395014f66a1d8ad0fe7b); $OSWAP_db15d0539e0788196959c4621feec4f5 = array(); foreach($OSWAP_f2c99f79c6f8e6bb88ae435aa75a1d75 as $OSWAP_690d5920fecd9d6bcbffcd3fac3535d5) { if('' != trim($OSWAP_690d5920fecd9d6bcbffcd3fac3535d5)) { $OSWAP_746376ea0a500c0524726ffa0a57c91f = false; foreach($OSWAP_c876069affd8fcf70611bb404d9fdb1center as $OSWAP_568f77a8815e94987c1966632c2ba5fc) { if(eregi("^(".$OSWAP_568f77a8815e94987c1966632c2ba5fc.")",trim($OSWAP_690d5920fecd9d6bcbffcd3fac3535d5))) { $OSWAP_746376ea0a500c0524726ffa0a57c91f = true; break; } } if(!$OSWAP_746376ea0a500c0524726ffa0a57c91f) $OSWAP_db15d0539e0788196959c4621feec4f5[] = $OSWAP_690d5920fecd9d6bcbffcd3fac3535d5; } } $OSWAP_2b57f54c2c39395014f66a1d8ad0fe7b = $OSWAP_db15d0539e0788196959c4621feec4f5; } if('' != $OSWAP_e8f9c743d01cf9b538554a0bc503b0e4) { $OSWAP_4cb6d34e032749b157a5e8d0ca5b3b9f = "^[\`\'\"]{0,1}[\_a-zA-Z]+[\_a-zA-Z0-9]*[\`\'\"]{0,1}$"; $OSWAP_5d9cef81be3df6eae43c26dc97abdfb6 = "^[\`\'\"]{1}"; $OSWAP_fe7a81a7636f76f8b5ade2206bd80b9eFlagTree = array( "CREATE" => array( "TABLE" => array( "$OSWAP_4cb6d34e032749b157a5e8d0ca5b3b9f" => 0 ) ), "INSERT" => array( "INTO" => array( "$OSWAP_4cb6d34e032749b157a5e8d0ca5b3b9f" => 0 ) ) ); foreach($OSWAP_20740d845bdb8497ea090fd1ba806bf1 as & $OSWAP_2b57f54c2c39395014f66a1d8ad0fe7b) { $OSWAP_e2be909d4713a811ad42a9dedb285147 = split(" ",$OSWAP_2b57f54c2c39395014f66a1d8ad0fe7b[0]); $OSWAP_24da90866e123b1307e0d0715d87665bName = array(); $this->findTableName($OSWAP_fe7a81a7636f76f8b5ade2206bd80b9eFlagTree,$OSWAP_e2be909d4713a811ad42a9dedb285147,0,$OSWAP_24da90866e123b1307e0d0715d87665bName); if(empty($OSWAP_24da90866e123b1307e0d0715d87665bName['leftWall'])) { $OSWAP_f1849cfb760aa8109848d065caf77a62 = $OSWAP_e8f9c743d01cf9b538554a0bc503b0e4.$OSWAP_24da90866e123b1307e0d0715d87665bName['name']; } else{ $OSWAP_f1849cfb760aa8109848d065caf77a62 = $OSWAP_24da90866e123b1307e0d0715d87665bName['leftWall'].$OSWAP_e8f9c743d01cf9b538554a0bc503b0e4.substr($OSWAP_24da90866e123b1307e0d0715d87665bName['name'],1); } $OSWAP_2b57f54c2c39395014f66a1d8ad0fe7b[0] = str_replace($OSWAP_24da90866e123b1307e0d0715d87665bName['name'],$OSWAP_f1849cfb760aa8109848d065caf77a62,$OSWAP_2b57f54c2c39395014f66a1d8ad0fe7b[0]); } } foreach($OSWAP_20740d845bdb8497ea090fd1ba806bf1 as & $OSWAP_2b57f54c2c39395014f66a1d8ad0fe7b) { $OSWAP_85dd4d9195af60943dbd749da1a9d0cb = ''; foreach($OSWAP_2b57f54c2c39395014f66a1d8ad0fe7b as $OSWAP_f2c99f79c6f8e6bb88ae435aa75a1d75) { $OSWAP_85dd4d9195af60943dbd749da1a9d0cb = $OSWAP_85dd4d9195af60943dbd749da1a9d0cb.trim($OSWAP_f2c99f79c6f8e6bb88ae435aa75a1d75)."\n"; } $OSWAP_2b57f54c2c39395014f66a1d8ad0fe7b = $OSWAP_85dd4d9195af60943dbd749da1a9d0cb; } self::saveByQuery($OSWAP_20740d845bdb8497ea090fd1ba806bf1); return true; } private function saveByQuery($OSWAP_fe7a81a7636f76f8b5ade2206bd80b9eArray) { $this->conn = new swapsql($this->OSWAP_1e6622d5de1086c0e5a626ddeac8cd04,$this->OSWAP_ee5c3d2ff8ce94dfde1ecd42f2a5dac1,$this->OSWAP_63420d7d5304b8a3dac990e48bbc170e,$this->OSWAP_181b8e297a61a1e29bc34d1a2b0b3ab2,'swapidc','UTF8'); foreach($OSWAP_fe7a81a7636f76f8b5ade2206bd80b9eArray as $OSWAP_fe7a81a7636f76f8b5ade2206bd80b9e) { $this->conn->query($OSWAP_fe7a81a7636f76f8b5ade2206bd80b9e); } $this->conn->__destruct(); } private function findTableName($OSWAP_fe7a81a7636f76f8b5ade2206bd80b9eFlagTree,$OSWAP_e2be909d4713a811ad42a9dedb285147,$OSWAP_401833aec821328bcc08e46231475398=0,& $OSWAP_24da90866e123b1307e0d0715d87665bName = array()) { $OSWAP_5d9cef81be3df6eae43c26dc97abdfb6 = "^[\`\'\"]{1}"; if(count($OSWAP_e2be909d4713a811ad42a9dedb285147)<=$OSWAP_401833aec821328bcc08e46231475398) return false; if('' == trim($OSWAP_e2be909d4713a811ad42a9dedb285147[$OSWAP_401833aec821328bcc08e46231475398])) { return self::findTableName($OSWAP_fe7a81a7636f76f8b5ade2206bd80b9eFlagTree,$OSWAP_e2be909d4713a811ad42a9dedb285147,$OSWAP_401833aec821328bcc08e46231475398+1,$OSWAP_24da90866e123b1307e0d0715d87665bName); } else { foreach($OSWAP_fe7a81a7636f76f8b5ade2206bd80b9eFlagTree as $OSWAP_f95712eab26b40bc7b3986b66a976270 => $v) { if(eregi($OSWAP_f95712eab26b40bc7b3986b66a976270,$OSWAP_e2be909d4713a811ad42a9dedb285147[$OSWAP_401833aec821328bcc08e46231475398])) { if(0==$v) { $OSWAP_24da90866e123b1307e0d0715d87665bName['name'] = $OSWAP_e2be909d4713a811ad42a9dedb285147[$OSWAP_401833aec821328bcc08e46231475398]; if(eregi($OSWAP_5d9cef81be3df6eae43c26dc97abdfb6,$OSWAP_24da90866e123b1307e0d0715d87665bName['name'])) { $OSWAP_24da90866e123b1307e0d0715d87665bName['leftWall'] = $OSWAP_24da90866e123b1307e0d0715d87665bName['name']{0}; } return true; } else{ return self::findTableName($v,$OSWAP_e2be909d4713a811ad42a9dedb285147,$OSWAP_401833aec821328bcc08e46231475398+1,$OSWAP_24da90866e123b1307e0d0715d87665bName); } } } } return false; } } function writeArrayToFile($OSWAP_4bc309caf8c2e5f271253a12e5db051cName,$OSWAP_e77f888b3189036b06b7d47acf75d044Array,$OSWAP_d0ac2563eba2fb70780457a6422eb9be="\r\n") { $OSWAP_9d9e1741210481c40be16ea04d2c730f=fopen($OSWAP_4bc309caf8c2e5f271253a12e5db051cName, "wb"); $OSWAP_afd0bcbfee327774d84e48653b578ff9 = ''; foreach($OSWAP_e77f888b3189036b06b7d47acf75d044Array as $OSWAP_e77f888b3189036b06b7d47acf75d044) { $OSWAP_afd0bcbfee327774d84e48653b578ff9 = $OSWAP_afd0bcbfee327774d84e48653b578ff9.$OSWAP_e77f888b3189036b06b7d47acf75d044.$OSWAP_d0ac2563eba2fb70780457a6422eb9be; } fwrite($OSWAP_9d9e1741210481c40be16ea04d2c730f,$OSWAP_afd0bcbfee327774d84e48653b578ff9); } 
<?php  function _GET($OSWAP_982626cee0ee1cad8104c66f8bdea997){ return isset($_GET[$OSWAP_982626cee0ee1cad8104c66f8bdea997])?str_replace(array('\''),array('&#39;'),$_GET[$OSWAP_982626cee0ee1cad8104c66f8bdea997]):''; } function _POST($OSWAP_982626cee0ee1cad8104c66f8bdea997){ return isset($_POST[$OSWAP_982626cee0ee1cad8104c66f8bdea997])?str_replace(array('\''),array('&#39;'),$_POST[$OSWAP_982626cee0ee1cad8104c66f8bdea997]):''; } function session($OSWAP_0d07de59261cc2c9023b194184c575fb,$OSWAP_31bb5897a4cf8155e2d7054f8ef132dd='') { $OSWAP_e8f9c743d01cf9b538554a0bc503b0e4 = C('SESSION_PREFIX'); if(is_array($OSWAP_0d07de59261cc2c9023b194184c575fb)) { if(isset($OSWAP_0d07de59261cc2c9023b194184c575fb['prefix'])) C('SESSION_PREFIX',$OSWAP_0d07de59261cc2c9023b194184c575fb['prefix']); if(C('VAR_SESSION_ID') && isset($_REQUEST[C('VAR_SESSION_ID')])){ session_id($_REQUEST[C('VAR_SESSION_ID')]); }elseif(isset($OSWAP_0d07de59261cc2c9023b194184c575fb['id'])) { session_id($OSWAP_0d07de59261cc2c9023b194184c575fb['id']); } ini_set('session.auto_start', 0); if(isset($OSWAP_0d07de59261cc2c9023b194184c575fb['name'])) session_name($OSWAP_0d07de59261cc2c9023b194184c575fb['name']); if(isset($OSWAP_0d07de59261cc2c9023b194184c575fb['path'])) session_save_path($OSWAP_0d07de59261cc2c9023b194184c575fb['path']); if(isset($OSWAP_0d07de59261cc2c9023b194184c575fb['domain'])) ini_set('session.cookie_domain', $OSWAP_0d07de59261cc2c9023b194184c575fb['domain']); if(isset($OSWAP_0d07de59261cc2c9023b194184c575fb['expire'])) ini_set('session.gc_maxlifetime', $OSWAP_0d07de59261cc2c9023b194184c575fb['expire']); if(isset($OSWAP_0d07de59261cc2c9023b194184c575fb['use_trans_sid'])) ini_set('session.use_trans_sid', $OSWAP_0d07de59261cc2c9023b194184c575fb['use_trans_sid']?1:0); if(isset($OSWAP_0d07de59261cc2c9023b194184c575fb['use_cookies'])) ini_set('session.use_cookies', $OSWAP_0d07de59261cc2c9023b194184c575fb['use_cookies']?1:0); if(isset($OSWAP_0d07de59261cc2c9023b194184c575fb['cache_limiter'])) session_cache_limiter($OSWAP_0d07de59261cc2c9023b194184c575fb['cache_limiter']); if(isset($OSWAP_0d07de59261cc2c9023b194184c575fb['cache_expire'])) session_cache_expire($OSWAP_0d07de59261cc2c9023b194184c575fb['cache_expire']); if(isset($OSWAP_0d07de59261cc2c9023b194184c575fb['type'])) C('SESSION_TYPE',$OSWAP_0d07de59261cc2c9023b194184c575fb['type']); session_set_cookie_params(0, "/", "", false, true); if(C('SESSION_AUTO_START')) session_start(); }elseif('' === $OSWAP_31bb5897a4cf8155e2d7054f8ef132dd){ if(0===strpos($OSWAP_0d07de59261cc2c9023b194184c575fb,'[')) { if('[pause]'==$OSWAP_0d07de59261cc2c9023b194184c575fb){ session_write_close(); }elseif('[start]'==$OSWAP_0d07de59261cc2c9023b194184c575fb){ session_set_cookie_params(0, "/", "", false, true); session_start(); }elseif('[destroy]'==$OSWAP_0d07de59261cc2c9023b194184c575fb){ $_SESSION = array(); session_unset(); session_destroy(); }elseif('[regenerate]'==$OSWAP_0d07de59261cc2c9023b194184c575fb){ session_regenerate_id(); } }elseif(0===strpos($OSWAP_0d07de59261cc2c9023b194184c575fb,'?')){ $OSWAP_0d07de59261cc2c9023b194184c575fb = substr($OSWAP_0d07de59261cc2c9023b194184c575fb,1); if(strpos($OSWAP_0d07de59261cc2c9023b194184c575fb,'.')){ list($OSWAP_0d07de59261cc2c9023b194184c575fb1,$OSWAP_0d07de59261cc2c9023b194184c575fb2) = explode('.',$OSWAP_0d07de59261cc2c9023b194184c575fb); return $OSWAP_e8f9c743d01cf9b538554a0bc503b0e4?isset($_SESSION[$OSWAP_e8f9c743d01cf9b538554a0bc503b0e4][$OSWAP_0d07de59261cc2c9023b194184c575fb1][$OSWAP_0d07de59261cc2c9023b194184c575fb2]):isset($_SESSION[$OSWAP_0d07de59261cc2c9023b194184c575fb1][$OSWAP_0d07de59261cc2c9023b194184c575fb2]); }else{ return $OSWAP_e8f9c743d01cf9b538554a0bc503b0e4?isset($_SESSION[$OSWAP_e8f9c743d01cf9b538554a0bc503b0e4][$OSWAP_0d07de59261cc2c9023b194184c575fb]):isset($_SESSION[$OSWAP_0d07de59261cc2c9023b194184c575fb]); } }elseif(is_null($OSWAP_0d07de59261cc2c9023b194184c575fb)){ if($OSWAP_e8f9c743d01cf9b538554a0bc503b0e4) { unset($_SESSION[$OSWAP_e8f9c743d01cf9b538554a0bc503b0e4]); }else{ $_SESSION = array(); } }elseif($OSWAP_e8f9c743d01cf9b538554a0bc503b0e4){ if(strpos($OSWAP_0d07de59261cc2c9023b194184c575fb,'.')){ list($OSWAP_0d07de59261cc2c9023b194184c575fb1,$OSWAP_0d07de59261cc2c9023b194184c575fb2) = explode('.',$OSWAP_0d07de59261cc2c9023b194184c575fb); return isset($_SESSION[$OSWAP_e8f9c743d01cf9b538554a0bc503b0e4][$OSWAP_0d07de59261cc2c9023b194184c575fb1][$OSWAP_0d07de59261cc2c9023b194184c575fb2])?$_SESSION[$OSWAP_e8f9c743d01cf9b538554a0bc503b0e4][$OSWAP_0d07de59261cc2c9023b194184c575fb1][$OSWAP_0d07de59261cc2c9023b194184c575fb2]:null; }else{ return isset($_SESSION[$OSWAP_e8f9c743d01cf9b538554a0bc503b0e4][$OSWAP_0d07de59261cc2c9023b194184c575fb])?$_SESSION[$OSWAP_e8f9c743d01cf9b538554a0bc503b0e4][$OSWAP_0d07de59261cc2c9023b194184c575fb]:null; } }else{ if(strpos($OSWAP_0d07de59261cc2c9023b194184c575fb,'.')){ list($OSWAP_0d07de59261cc2c9023b194184c575fb1,$OSWAP_0d07de59261cc2c9023b194184c575fb2) = explode('.',$OSWAP_0d07de59261cc2c9023b194184c575fb); return isset($_SESSION[$OSWAP_0d07de59261cc2c9023b194184c575fb1][$OSWAP_0d07de59261cc2c9023b194184c575fb2])?$_SESSION[$OSWAP_0d07de59261cc2c9023b194184c575fb1][$OSWAP_0d07de59261cc2c9023b194184c575fb2]:null; }else{ return isset($_SESSION[$OSWAP_0d07de59261cc2c9023b194184c575fb])?$_SESSION[$OSWAP_0d07de59261cc2c9023b194184c575fb]:null; } } }elseif(is_null($OSWAP_31bb5897a4cf8155e2d7054f8ef132dd)){ if($OSWAP_e8f9c743d01cf9b538554a0bc503b0e4){ unset($_SESSION[$OSWAP_e8f9c743d01cf9b538554a0bc503b0e4][$OSWAP_0d07de59261cc2c9023b194184c575fb]); }else{ unset($_SESSION[$OSWAP_0d07de59261cc2c9023b194184c575fb]); } }else{ if($OSWAP_e8f9c743d01cf9b538554a0bc503b0e4){ if (!is_array($_SESSION[$OSWAP_e8f9c743d01cf9b538554a0bc503b0e4])) { $_SESSION[$OSWAP_e8f9c743d01cf9b538554a0bc503b0e4] = array(); } $_SESSION[$OSWAP_e8f9c743d01cf9b538554a0bc503b0e4][$OSWAP_0d07de59261cc2c9023b194184c575fb] = $OSWAP_31bb5897a4cf8155e2d7054f8ef132dd; }else{ $_SESSION[$OSWAP_0d07de59261cc2c9023b194184c575fb] = $OSWAP_31bb5897a4cf8155e2d7054f8ef132dd; } } } function cookie($OSWAP_0d07de59261cc2c9023b194184c575fb, $OSWAP_31bb5897a4cf8155e2d7054f8ef132dd='', $OSWAP_b684ab3e46f9f017e0bb12608b25fc9b=null) { $config = array( 'prefix' => C('COOKIE_PREFIX'), 'expire' => C('COOKIE_EXPIRE'), 'path' => C('COOKIE_PATH'), 'domain' => C('COOKIE_DOMAIN'), ); if (!is_null($OSWAP_b684ab3e46f9f017e0bb12608b25fc9b)) { if (is_numeric($OSWAP_b684ab3e46f9f017e0bb12608b25fc9b)) $OSWAP_b684ab3e46f9f017e0bb12608b25fc9b = array('expire' => $OSWAP_b684ab3e46f9f017e0bb12608b25fc9b); elseif (is_string($OSWAP_b684ab3e46f9f017e0bb12608b25fc9b)) parse_str($OSWAP_b684ab3e46f9f017e0bb12608b25fc9b, $OSWAP_b684ab3e46f9f017e0bb12608b25fc9b); $config = array_merge($config, array_change_key_case($OSWAP_b684ab3e46f9f017e0bb12608b25fc9b)); } if (is_null($OSWAP_0d07de59261cc2c9023b194184c575fb)) { if (empty($_COOKIE)) return; $OSWAP_e8f9c743d01cf9b538554a0bc503b0e4 = empty($OSWAP_31bb5897a4cf8155e2d7054f8ef132dd) ? $config['prefix'] : $OSWAP_31bb5897a4cf8155e2d7054f8ef132dd; if (!empty($OSWAP_e8f9c743d01cf9b538554a0bc503b0e4)) { foreach ($_COOKIE as $OSWAP_6291cc79354613208317e7b10b238055 => $OSWAP_63e29f0f36f8e0e4b3ad59487599f02a) { if (0 === stripos($OSWAP_6291cc79354613208317e7b10b238055, $OSWAP_e8f9c743d01cf9b538554a0bc503b0e4)) { setcookie($OSWAP_6291cc79354613208317e7b10b238055, '', time() - 3600, $config['path'], $config['domain']); unset($_COOKIE[$OSWAP_6291cc79354613208317e7b10b238055]); } } } return; } $OSWAP_0d07de59261cc2c9023b194184c575fb = $config['prefix'] . $OSWAP_0d07de59261cc2c9023b194184c575fb; if ('' === $OSWAP_31bb5897a4cf8155e2d7054f8ef132dd) { if(isset($_COOKIE[$OSWAP_0d07de59261cc2c9023b194184c575fb])){ $OSWAP_31bb5897a4cf8155e2d7054f8ef132dd = $_COOKIE[$OSWAP_0d07de59261cc2c9023b194184c575fb]; if(0===strpos($OSWAP_31bb5897a4cf8155e2d7054f8ef132dd,'think:')){ $OSWAP_31bb5897a4cf8155e2d7054f8ef132dd = substr($OSWAP_31bb5897a4cf8155e2d7054f8ef132dd,6); return array_map('urldecode',json_decode(MAGIC_QUOTES_GPC?stripslashes($OSWAP_31bb5897a4cf8155e2d7054f8ef132dd):$OSWAP_31bb5897a4cf8155e2d7054f8ef132dd,true)); }else{ return $OSWAP_31bb5897a4cf8155e2d7054f8ef132dd; } }else{ return null; } } else { if (is_null($OSWAP_31bb5897a4cf8155e2d7054f8ef132dd)) { setcookie($OSWAP_0d07de59261cc2c9023b194184c575fb, '', time() - 3600, $config['path'], $config['domain']); unset($_COOKIE[$OSWAP_0d07de59261cc2c9023b194184c575fb]); } else { if(is_array($OSWAP_31bb5897a4cf8155e2d7054f8ef132dd)){ $OSWAP_31bb5897a4cf8155e2d7054f8ef132dd = 'think:'.json_encode(array_map('urlencode',$OSWAP_31bb5897a4cf8155e2d7054f8ef132dd)); } $OSWAP_b2fe3d18c166303cb258369dd24a7e7c = !empty($config['expire']) ? time() + intval($config['expire']) : 0; setcookie($OSWAP_0d07de59261cc2c9023b194184c575fb, $OSWAP_31bb5897a4cf8155e2d7054f8ef132dd, $OSWAP_b2fe3d18c166303cb258369dd24a7e7c, $config['path'], $config['domain']); $_COOKIE[$OSWAP_0d07de59261cc2c9023b194184c575fb] = $OSWAP_31bb5897a4cf8155e2d7054f8ef132dd; } } } 
<?php  class MulticraftAPI { private $OSWAP_a863c67efc53a5fa693701733eacba5a = ''; private $OSWAP_bedc4e915416eb240c4e22f5eb951420 = ''; private $OSWAP_7eaee94c7e15bdb606c58640045fb330 = ''; private $OSWAP_b1720d2ed5ea949fd431c153bbf764e8 = array( 'listUsers' => array(), 'findUsers' => array(array('name'=>'field', 'type'=>'array'), array('name'=>'value', 'type'=>'array')), 'getUser' => array('id'), 'updateUser' => array('id', array('name'=>'field', 'type'=>'array'), array('name'=>'value', 'type'=>'array'), array('name'=>'send_mail', 'default'=>0)), 'createUser' => array('name', 'email', 'password', array('name'=>'lang', 'default'=>''), array('name'=>'send_mail', 'default'=>0)), 'deleteUser' => array('id'), 'getUserRole' => array('user_id', 'server_id'), 'setUserRole' => array('user_id', 'server_id', 'role'), 'getUserFtpAccess' => array('user_id', 'server_id'), 'setUserFtpAccess' => array('user_id', 'server_id', 'mode'), 'getUserId' => array('name'), 'listPlayers' => array('server_id'), 'findPlayers' => array('server_id', array('name'=>'field', 'type'=>'array'), array('name'=>'value', 'type'=>'array')), 'getPlayer' => array('id'), 'updatePlayer' => array('id', array('name'=>'field', 'type'=>'array'), array('name'=>'value', 'type'=>'array')), 'createPlayer' => array('server_id', 'name'), 'deletePlayer' => array('id'), 'assignPlayerToUser' => array('player_id', 'user_id'), 'listCommands' => array('server_id'), 'findCommands' => array('server_id', array('name'=>'field', 'type'=>'array'), array('name'=>'value', 'type'=>'array')), 'getCommand' => array('id'), 'updateCommand' => array('id', array('name'=>'field', 'type'=>'array'), array('name'=>'value', 'type'=>'array')), 'createCommand' => array('server_id', 'name', 'role', 'chat', 'response', 'run'), 'deleteCommand' => array('id'), 'listServers' => array(), 'findServers' => array(array('name'=>'field', 'type'=>'array'), array('name'=>'value', 'type'=>'array')), 'listServersByConnection' => array('connection_id'), 'listServersByOwner' => array('user_id'), 'getServer' => array('id'), 'updateServer' => array('id', array('name'=>'field', 'type'=>'array'), array('name'=>'value', 'type'=>'array')), 'createServerOn' => array(array('name'=>'daemon_id', 'default'=>0), array('name'=>'no_commands', 'default'=>0), array('name'=>'no_setup_script', 'default'=>0)), 'createServer' => array(array('name'=>'name', 'default'=>''), array('name'=>'port', 'default'=>0), array('name'=>'base', 'default'=>''), array('name'=>'players', 'default'=>0), array('name'=>'no_commands', 'default'=>0), array('name'=>'no_setup_script', 'default'=>0)), 'suspendServer' => array('id', array('name'=>'stop', 'default'=>1)), 'resumeServer' => array('id', array('name'=>'start', 'default'=>1)), 'deleteServer' => array('id', array('name'=>'delete_dir', 'default'=>'no')), 'getServerStatus' => array('id', array('name'=>'player_list', 'default'=>0)), 'getServerOwner' => array('server_id'), 'setServerOwner' => array('server_id', 'user_id', array('name'=>'send_mail', 'default'=>0)), 'getServerConfig' => array('id'), 'updateServerConfig' => array('id', array('name'=>'field', 'type'=>'array'), array('name'=>'value', 'type'=>'array')), 'startServerBackup' => array('id'), 'getServerBackupStatus' => array('id'), 'startServer' => array('id'), 'stopServer' => array('id'), 'restartServer' => array('id'), 'startAllServers' => array(), 'stopAllServers' => array(), 'restartAllServers' => array(), 'sendConsoleCommand' => array('server_id', 'command'), 'sendAllConsoleCommand' => array('command'), 'runCommand' => array('server_id', 'command_id', array('name'=>'run_for', 'default'=>0)), 'getServerLog' => array('id'), 'clearServerLog' => array('id'), 'getServerChat' => array('id'), 'clearServerChat' => array('id'), 'sendServerControl' => array('id', 'command'), 'listConnections' => array(), 'findConnections' => array(array('name'=>'field', 'type'=>'array'), array('name'=>'value', 'type'=>'array')), 'getConnection' => array('id'), 'removeConnection' => array('id'), 'getConnectionStatus' => array('id'), 'getConnectionMemory' => array('id', array('name'=>'include_suspended', 'default'=>0)), 'listSettings' => array(), 'getSetting' => array('key'), 'setSetting' => array('key', 'value'), 'deleteSetting' => array('key'), 'listSchedules' => array('server_id'), 'findSchedules' => array('server_id', array('name'=>'field', 'type'=>'array'), array('name'=>'value', 'type'=>'array')), 'getSchedule' => array('id'), 'updateSchedule' => array('id', array('name'=>'field', 'type'=>'array'), array('name'=>'value', 'type'=>'array')), 'createSchedule' => array('server_id', 'name', 'ts', 'interval', 'cmd', 'status', 'for'), 'deleteSchedule' => array('id'), ); public function __construct($OSWAP_bedc4e915416eb240c4e22f5eb951420, $OSWAP_2cac25d2746fb302be32519c14aea3c4, $OSWAP_a863c67efc53a5fa693701733eacba5a) { $this->OSWAP_bedc4e915416eb240c4e22f5eb951420 = $OSWAP_bedc4e915416eb240c4e22f5eb951420; $this->OSWAP_2cac25d2746fb302be32519c14aea3c4 = $OSWAP_2cac25d2746fb302be32519c14aea3c4; $this->OSWAP_a863c67efc53a5fa693701733eacba5a = $OSWAP_a863c67efc53a5fa693701733eacba5a; } public function __call($OSWAP_665f4e5c060447297291c76ba8ca960a, $OSWAP_08162ea852344a11ac9c38c92006c292) { $OSWAP_62c5c5ea0c206027b92c74bbd42271ec = @$this->OSWAP_b1720d2ed5ea949fd431c153bbf764e8[$OSWAP_665f4e5c060447297291c76ba8ca960a]; if (!is_array($OSWAP_62c5c5ea0c206027b92c74bbd42271ec)) return array('success'=>false, 'errors'=>array('Unknown API method "'.$OSWAP_665f4e5c060447297291c76ba8ca960a.'()"'), 'data'=>array()); $OSWAP_93faf55ed6fd70f021797955394c9f2b = array(); $OSWAP_c1b73ffaea92e5aecfc682baed38b39f = ''; $OSWAP_8609bc7546f8533be0477aab1de2a8be = ''; for ($i = 0; $i < count($OSWAP_62c5c5ea0c206027b92c74bbd42271ec); $i++) { if (is_array($OSWAP_62c5c5ea0c206027b92c74bbd42271ec[$i])) $OSWAP_c1b73ffaea92e5aecfc682baed38b39f = $OSWAP_62c5c5ea0c206027b92c74bbd42271ec[$i]['name']; else $OSWAP_c1b73ffaea92e5aecfc682baed38b39f = $OSWAP_62c5c5ea0c206027b92c74bbd42271ec[$i]; if ($i < count($OSWAP_08162ea852344a11ac9c38c92006c292)) { $OSWAP_8609bc7546f8533be0477aab1de2a8be = $OSWAP_08162ea852344a11ac9c38c92006c292[$i]; } else if (is_array($OSWAP_62c5c5ea0c206027b92c74bbd42271ec[$i]) && isset($OSWAP_62c5c5ea0c206027b92c74bbd42271ec[$i]['default'])) { if ($i >= count($OSWAP_08162ea852344a11ac9c38c92006c292)) $OSWAP_8609bc7546f8533be0477aab1de2a8be = $OSWAP_62c5c5ea0c206027b92c74bbd42271ec[$i]['default']; else $OSWAP_8609bc7546f8533be0477aab1de2a8be = $OSWAP_08162ea852344a11ac9c38c92006c292[$i]; } else return array('success'=>false, 'errors'=>array('"'.$OSWAP_665f4e5c060447297291c76ba8ca960a.'()": Not enough arguments ('.count($OSWAP_08162ea852344a11ac9c38c92006c292).')'), 'data'=>array()); if (is_array($OSWAP_62c5c5ea0c206027b92c74bbd42271ec[$i]) && isset($OSWAP_62c5c5ea0c206027b92c74bbd42271ec[$i]['type'])) { if ($OSWAP_62c5c5ea0c206027b92c74bbd42271ec[$i]['type'] == 'array') $OSWAP_8609bc7546f8533be0477aab1de2a8be = CJSON::encode($OSWAP_8609bc7546f8533be0477aab1de2a8be); } $OSWAP_93faf55ed6fd70f021797955394c9f2b[$OSWAP_c1b73ffaea92e5aecfc682baed38b39f] = $OSWAP_8609bc7546f8533be0477aab1de2a8be; } return $this->call($OSWAP_665f4e5c060447297291c76ba8ca960a, $OSWAP_93faf55ed6fd70f021797955394c9f2b); } public function call($OSWAP_c6f19d225bf3a0cf1aca91df7d241838, $OSWAP_7b9f432c7b90f22f15fa33c120f60a00 = array()) { if (!$this->OSWAP_bedc4e915416eb240c4e22f5eb951420) return array('success'=>false, 'errors'=>array('Invalid target URL')); if (!$this->OSWAP_a863c67efc53a5fa693701733eacba5a) return array('success'=>false, 'errors'=>array('Invalid API key')); $OSWAP_bedc4e915416eb240c4e22f5eb951420 = $this->OSWAP_bedc4e915416eb240c4e22f5eb951420; $OSWAP_2f9fd1381013f6f4a3ec3367ad079b35 = '?'; $OSWAP_c91437c521035efa22f69986c52e9110 = ''; if (!is_array($OSWAP_7b9f432c7b90f22f15fa33c120f60a00)) $OSWAP_7b9f432c7b90f22f15fa33c120f60a00 = array($OSWAP_7b9f432c7b90f22f15fa33c120f60a00=>$OSWAP_7b9f432c7b90f22f15fa33c120f60a00); $OSWAP_7b9f432c7b90f22f15fa33c120f60a00['_MulticraftAPIMethod'] = $OSWAP_c6f19d225bf3a0cf1aca91df7d241838; $OSWAP_7b9f432c7b90f22f15fa33c120f60a00['_MulticraftAPIUser'] = $this->OSWAP_2cac25d2746fb302be32519c14aea3c4; foreach ($OSWAP_7b9f432c7b90f22f15fa33c120f60a00 as $p) $OSWAP_c91437c521035efa22f69986c52e9110 .= $p; $OSWAP_7b9f432c7b90f22f15fa33c120f60a00['_MulticraftAPIKey'] = md5($this->OSWAP_a863c67efc53a5fa693701733eacba5a.$OSWAP_c91437c521035efa22f69986c52e9110); foreach ($OSWAP_7b9f432c7b90f22f15fa33c120f60a00 as $k=>$v) $OSWAP_2f9fd1381013f6f4a3ec3367ad079b35 .= '&'.urlencode($k).'='.urlencode($v); return $this->send($OSWAP_bedc4e915416eb240c4e22f5eb951420, $OSWAP_2f9fd1381013f6f4a3ec3367ad079b35); } public function send($OSWAP_bedc4e915416eb240c4e22f5eb951420, $OSWAP_2f9fd1381013f6f4a3ec3367ad079b35) { $OSWAP_5880f19312788da18a364e647a6f89ce = ''; $OSWAP_bd1232af303c0352784ca125ff9ff162 = ''; if (function_exists('curl_init')) { $OSWAP_fbabf96ee37420b52a55b3f398ca9755 = curl_init($OSWAP_bedc4e915416eb240c4e22f5eb951420); curl_setopt ($OSWAP_fbabf96ee37420b52a55b3f398ca9755, CURLOPT_POST, true); curl_setopt ($OSWAP_fbabf96ee37420b52a55b3f398ca9755, CURLOPT_POSTFIELDS, $OSWAP_2f9fd1381013f6f4a3ec3367ad079b35); curl_setopt($OSWAP_fbabf96ee37420b52a55b3f398ca9755, CURLOPT_RETURNTRANSFER, true); curl_setopt($OSWAP_fbabf96ee37420b52a55b3f398ca9755, CURLOPT_SSL_VERIFYPEER, false); $OSWAP_5880f19312788da18a364e647a6f89ce = curl_exec($OSWAP_fbabf96ee37420b52a55b3f398ca9755); $OSWAP_bd1232af303c0352784ca125ff9ff162 = curl_error($OSWAP_fbabf96ee37420b52a55b3f398ca9755); curl_close($OSWAP_fbabf96ee37420b52a55b3f398ca9755); } else $OSWAP_5880f19312788da18a364e647a6f89ce = file_get_contents($OSWAP_bedc4e915416eb240c4e22f5eb951420.$OSWAP_2f9fd1381013f6f4a3ec3367ad079b35); if (!$OSWAP_5880f19312788da18a364e647a6f89ce) { if (!$OSWAP_bd1232af303c0352784ca125ff9ff162) $OSWAP_bd1232af303c0352784ca125ff9ff162 = 'Empty response (wrong API URL or connection problem)'; return array('success'=>false, 'errors'=>array($OSWAP_bd1232af303c0352784ca125ff9ff162), 'data'=>''); } $this->OSWAP_7eaee94c7e15bdb606c58640045fb330 = $OSWAP_5880f19312788da18a364e647a6f89ce; $OSWAP_1c989bf91af699fb6198c4918de315a8 = CJSON::decode($OSWAP_5880f19312788da18a364e647a6f89ce); if (!is_array($OSWAP_1c989bf91af699fb6198c4918de315a8)) { return array('success'=>false, 'errors'=>array($OSWAP_1c989bf91af699fb6198c4918de315a8), 'data'=>array()); } return $OSWAP_1c989bf91af699fb6198c4918de315a8; } public function rawResponse() { return $this->OSWAP_7eaee94c7e15bdb606c58640045fb330; } } class CJSON { const JSON_SLICE = 1; const JSON_IN_STR = 2; const JSON_IN_ARR = 4; const JSON_IN_OBJ = 8; const JSON_IN_CMT = 16; public static function encode($OSWAP_9a1f100627177c03f528c257cdac760b) { switch (gettype($OSWAP_9a1f100627177c03f528c257cdac760b)) { case 'boolean': return $OSWAP_9a1f100627177c03f528c257cdac760b ? 'true' : 'false'; case 'NULL': return 'null'; case 'integer': return (int) $OSWAP_9a1f100627177c03f528c257cdac760b; case 'double': case 'float': return str_replace(',','.',(float)$OSWAP_9a1f100627177c03f528c257cdac760b); case 'string': if (substr($OSWAP_9a1f100627177c03f528c257cdac760b,0,3) == pack('CCC',0xEF,0xBB,0xBF)) $OSWAP_9a1f100627177c03f528c257cdac760b = substr($OSWAP_9a1f100627177c03f528c257cdac760b, 3); if (function_exists('json_encode')) { if (function_exists('iconv')) return json_encode(iconv("UTF-8","UTF-8//IGNORE",$OSWAP_9a1f100627177c03f528c257cdac760b)); else return json_encode($OSWAP_9a1f100627177c03f528c257cdac760b); } if (($OSWAP_d796788f962d19696cca9b9f529fe61c=strtoupper(Yii::app()->OSWAP_2235c18804c55e511a3799e290a5ca2e))!=='UTF-8') $OSWAP_9a1f100627177c03f528c257cdac760b=iconv($OSWAP_d796788f962d19696cca9b9f529fe61c, 'UTF-8', $OSWAP_9a1f100627177c03f528c257cdac760b); $OSWAP_79dbadf14383fece94b157079c33c007 = ''; $OSWAP_462836c2beb33b152ecf76e303a63dfb = strlen($OSWAP_9a1f100627177c03f528c257cdac760b); for ($c = 0; $c < $OSWAP_462836c2beb33b152ecf76e303a63dfb; ++$c) { $OSWAP_d6b8a49d6063dae2be0e1712626911c8 = ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c}); switch (true) { case $OSWAP_d6b8a49d6063dae2be0e1712626911c8 == 0x08: $OSWAP_79dbadf14383fece94b157079c33c007 .= '\b'; break; case $OSWAP_d6b8a49d6063dae2be0e1712626911c8 == 0x09: $OSWAP_79dbadf14383fece94b157079c33c007 .= '\t'; break; case $OSWAP_d6b8a49d6063dae2be0e1712626911c8 == 0x0A: $OSWAP_79dbadf14383fece94b157079c33c007 .= '\n'; break; case $OSWAP_d6b8a49d6063dae2be0e1712626911c8 == 0x0C: $OSWAP_79dbadf14383fece94b157079c33c007 .= '\f'; break; case $OSWAP_d6b8a49d6063dae2be0e1712626911c8 == 0x0D: $OSWAP_79dbadf14383fece94b157079c33c007 .= '\r'; break; case $OSWAP_d6b8a49d6063dae2be0e1712626911c8 == 0x22: case $OSWAP_d6b8a49d6063dae2be0e1712626911c8 == 0x2F: case $OSWAP_d6b8a49d6063dae2be0e1712626911c8 == 0x5C: $OSWAP_79dbadf14383fece94b157079c33c007 .= '\\'.$OSWAP_9a1f100627177c03f528c257cdac760b{$c}; break; case (($OSWAP_d6b8a49d6063dae2be0e1712626911c8 >= 0x20) && ($OSWAP_d6b8a49d6063dae2be0e1712626911c8 <= 0x7F)): $OSWAP_79dbadf14383fece94b157079c33c007 .= $OSWAP_9a1f100627177c03f528c257cdac760b{$c}; break; case (($OSWAP_d6b8a49d6063dae2be0e1712626911c8 & 0xE0) == 0xC0): $OSWAP_7184c7dbeb9531dd9c6adc6d2030ed95 = pack('C*', $OSWAP_d6b8a49d6063dae2be0e1712626911c8, ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+1})); $c+=1; $OSWAP_aedf5b8a2a87323ad937da745388870d = self::utf8ToUTF16BE($OSWAP_7184c7dbeb9531dd9c6adc6d2030ed95); $OSWAP_79dbadf14383fece94b157079c33c007 .= sprintf('\u%04s', bin2hex($OSWAP_aedf5b8a2a87323ad937da745388870d)); break; case (($OSWAP_d6b8a49d6063dae2be0e1712626911c8 & 0xF0) == 0xE0): $OSWAP_7184c7dbeb9531dd9c6adc6d2030ed95 = pack('C*', $OSWAP_d6b8a49d6063dae2be0e1712626911c8, ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+1}), ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+2})); $c+=2; $OSWAP_aedf5b8a2a87323ad937da745388870d = self::utf8ToUTF16BE($OSWAP_7184c7dbeb9531dd9c6adc6d2030ed95); $OSWAP_79dbadf14383fece94b157079c33c007 .= sprintf('\u%04s', bin2hex($OSWAP_aedf5b8a2a87323ad937da745388870d)); break; case (($OSWAP_d6b8a49d6063dae2be0e1712626911c8 & 0xF8) == 0xF0): $OSWAP_7184c7dbeb9531dd9c6adc6d2030ed95 = pack('C*', $OSWAP_d6b8a49d6063dae2be0e1712626911c8, ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+1}), ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+2}), ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+3})); $c+=3; $OSWAP_aedf5b8a2a87323ad937da745388870d = self::utf8ToUTF16BE($OSWAP_7184c7dbeb9531dd9c6adc6d2030ed95); $OSWAP_79dbadf14383fece94b157079c33c007 .= sprintf('\u%04s', bin2hex($OSWAP_aedf5b8a2a87323ad937da745388870d)); break; case (($OSWAP_d6b8a49d6063dae2be0e1712626911c8 & 0xFC) == 0xF8): $OSWAP_7184c7dbeb9531dd9c6adc6d2030ed95 = pack('C*', $OSWAP_d6b8a49d6063dae2be0e1712626911c8, ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+1}), ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+2}), ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+3}), ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+4})); $c+=4; $OSWAP_aedf5b8a2a87323ad937da745388870d = self::utf8ToUTF16BE($OSWAP_7184c7dbeb9531dd9c6adc6d2030ed95); $OSWAP_79dbadf14383fece94b157079c33c007 .= sprintf('\u%04s', bin2hex($OSWAP_aedf5b8a2a87323ad937da745388870d)); break; case (($OSWAP_d6b8a49d6063dae2be0e1712626911c8 & 0xFE) == 0xFC): $OSWAP_7184c7dbeb9531dd9c6adc6d2030ed95 = pack('C*', $OSWAP_d6b8a49d6063dae2be0e1712626911c8, ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+1}), ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+2}), ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+3}), ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+4}), ord($OSWAP_9a1f100627177c03f528c257cdac760b{$c+5})); $c+=5; $OSWAP_aedf5b8a2a87323ad937da745388870d = self::utf8ToUTF16BE($OSWAP_7184c7dbeb9531dd9c6adc6d2030ed95); $OSWAP_79dbadf14383fece94b157079c33c007 .= sprintf('\u%04s', bin2hex($OSWAP_aedf5b8a2a87323ad937da745388870d)); break; } } return '"'.$OSWAP_79dbadf14383fece94b157079c33c007.'"'; case 'array': if (is_array($OSWAP_9a1f100627177c03f528c257cdac760b) && count($OSWAP_9a1f100627177c03f528c257cdac760b) && (array_keys($OSWAP_9a1f100627177c03f528c257cdac760b) !== range(0, sizeof($OSWAP_9a1f100627177c03f528c257cdac760b) - 1))) { return '{' . join(',', array_map(array('CJSON', 'nameValue'), array_keys($OSWAP_9a1f100627177c03f528c257cdac760b), array_values($OSWAP_9a1f100627177c03f528c257cdac760b))) . '}'; } return '[' . join(',', array_map(array('CJSON', 'encode'), $OSWAP_9a1f100627177c03f528c257cdac760b)) . ']'; case 'object': if ($OSWAP_9a1f100627177c03f528c257cdac760b instanceof Traversable) { $OSWAP_54218b4f67abad43aa690e0f09b708dc = array(); foreach ($OSWAP_9a1f100627177c03f528c257cdac760b as $k=>$v) $OSWAP_54218b4f67abad43aa690e0f09b708dc[$k] = $v; } else $OSWAP_54218b4f67abad43aa690e0f09b708dc = get_object_vars($OSWAP_9a1f100627177c03f528c257cdac760b); return '{' . join(',', array_map(array('CJSON', 'nameValue'), array_keys($OSWAP_54218b4f67abad43aa690e0f09b708dc), array_values($OSWAP_54218b4f67abad43aa690e0f09b708dc))) . '}'; default: return ''; } } protected static function nameValue($OSWAP_c1b73ffaea92e5aecfc682baed38b39f, $OSWAP_8609bc7546f8533be0477aab1de2a8be) { return self::encode(strval($OSWAP_c1b73ffaea92e5aecfc682baed38b39f)) . ':' . self::encode($OSWAP_8609bc7546f8533be0477aab1de2a8be); } protected static function reduceString($OSWAP_c91437c521035efa22f69986c52e9110) { $OSWAP_c91437c521035efa22f69986c52e9110 = preg_replace(array( '#^\s*//(.+)$#m', '#^\s*/\*(.+)\*/#Us', '#/\*(.+)\*/\s*$#Us' ), '', $OSWAP_c91437c521035efa22f69986c52e9110); return trim($OSWAP_c91437c521035efa22f69986c52e9110); } public static function decode($OSWAP_c91437c521035efa22f69986c52e9110, $OSWAP_eef35170c46f8c6a8756ef34f7f91014=true) { if (substr($OSWAP_c91437c521035efa22f69986c52e9110,0,3) == pack('CCC',0xEF,0xBB,0xBF)) $OSWAP_c91437c521035efa22f69986c52e9110 = substr($OSWAP_c91437c521035efa22f69986c52e9110,3); $OSWAP_a2f00c2fb98d0bb527b8bd8bace4b8ae = null; if (function_exists('json_decode')) { if (function_exists('iconv')) $OSWAP_a2f00c2fb98d0bb527b8bd8bace4b8ae = json_decode(iconv("UTF-8","UTF-8//IGNORE",$OSWAP_c91437c521035efa22f69986c52e9110),$OSWAP_eef35170c46f8c6a8756ef34f7f91014); else $OSWAP_a2f00c2fb98d0bb527b8bd8bace4b8ae = json_decode($OSWAP_c91437c521035efa22f69986c52e9110,$OSWAP_eef35170c46f8c6a8756ef34f7f91014); } if(!is_null($OSWAP_a2f00c2fb98d0bb527b8bd8bace4b8ae)) return $OSWAP_a2f00c2fb98d0bb527b8bd8bace4b8ae; $OSWAP_c91437c521035efa22f69986c52e9110 = self::reduceString($OSWAP_c91437c521035efa22f69986c52e9110); switch (strtolower($OSWAP_c91437c521035efa22f69986c52e9110)) { case 'true': return true; case 'false': return false; case 'null': return null; default: if (is_numeric($OSWAP_c91437c521035efa22f69986c52e9110)) { return ((float)$OSWAP_c91437c521035efa22f69986c52e9110 == (integer)$OSWAP_c91437c521035efa22f69986c52e9110) ? (integer)$OSWAP_c91437c521035efa22f69986c52e9110 : (float)$OSWAP_c91437c521035efa22f69986c52e9110; } elseif (preg_match('/^("|\').+(\1)$/s', $OSWAP_c91437c521035efa22f69986c52e9110, $m) && $m[1] == $m[2]) { $OSWAP_ef43a8c79a3a0ac5b3ad30132b160807 = substr($OSWAP_c91437c521035efa22f69986c52e9110, 0, 1); $OSWAP_f46d0a1ef49f161ed393529c7f6fb065 = substr($OSWAP_c91437c521035efa22f69986c52e9110, 1, -1); $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 = ''; $OSWAP_73d92ba67a2dcecf190bcf98e32e4636 = strlen($OSWAP_f46d0a1ef49f161ed393529c7f6fb065); for ($c = 0; $c < $OSWAP_73d92ba67a2dcecf190bcf98e32e4636; ++$c) { $OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 = substr($OSWAP_f46d0a1ef49f161ed393529c7f6fb065, $c, 2); $OSWAP_d6fe30196750a2bb20e86f55e14db78d = ord($OSWAP_f46d0a1ef49f161ed393529c7f6fb065{$c}); switch (true) { case $OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 == '\b': $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 .= chr(0x08); ++$c; break; case $OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 == '\t': $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 .= chr(0x09); ++$c; break; case $OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 == '\n': $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 .= chr(0x0A); ++$c; break; case $OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 == '\f': $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 .= chr(0x0C); ++$c; break; case $OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 == '\r': $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 .= chr(0x0D); ++$c; break; case $OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 == '\\"': case $OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 == '\\\'': case $OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 == '\\\\': case $OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 == '\\/': if (($OSWAP_ef43a8c79a3a0ac5b3ad30132b160807 == '"' && $OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 != '\\\'') || ($OSWAP_ef43a8c79a3a0ac5b3ad30132b160807 == "'" && $OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 != '\\"')) { $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 .= $OSWAP_f46d0a1ef49f161ed393529c7f6fb065{++$c}; } break; case preg_match('/\\\u[0-9A-F]{4}/i', substr($OSWAP_f46d0a1ef49f161ed393529c7f6fb065, $c, 6)): $OSWAP_aedf5b8a2a87323ad937da745388870d = chr(hexdec(substr($OSWAP_f46d0a1ef49f161ed393529c7f6fb065, ($c+2), 2))) . chr(hexdec(substr($OSWAP_f46d0a1ef49f161ed393529c7f6fb065, ($c+4), 2))); $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 .= self::utf16beToUTF8($OSWAP_aedf5b8a2a87323ad937da745388870d); $c+=5; break; case ($OSWAP_d6fe30196750a2bb20e86f55e14db78d >= 0x20) && ($OSWAP_d6fe30196750a2bb20e86f55e14db78d <= 0x7F): $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 .= $OSWAP_f46d0a1ef49f161ed393529c7f6fb065{$c}; break; case ($OSWAP_d6fe30196750a2bb20e86f55e14db78d & 0xE0) == 0xC0: $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 .= substr($OSWAP_f46d0a1ef49f161ed393529c7f6fb065, $c, 2); ++$c; break; case ($OSWAP_d6fe30196750a2bb20e86f55e14db78d & 0xF0) == 0xE0: $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 .= substr($OSWAP_f46d0a1ef49f161ed393529c7f6fb065, $c, 3); $c += 2; break; case ($OSWAP_d6fe30196750a2bb20e86f55e14db78d & 0xF8) == 0xF0: $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 .= substr($OSWAP_f46d0a1ef49f161ed393529c7f6fb065, $c, 4); $c += 3; break; case ($OSWAP_d6fe30196750a2bb20e86f55e14db78d & 0xFC) == 0xF8: $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 .= substr($OSWAP_f46d0a1ef49f161ed393529c7f6fb065, $c, 5); $c += 4; break; case ($OSWAP_d6fe30196750a2bb20e86f55e14db78d & 0xFE) == 0xFC: $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 .= substr($OSWAP_f46d0a1ef49f161ed393529c7f6fb065, $c, 6); $c += 5; break; } } return $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2; } elseif (preg_match('/^\[.*\]$/s', $OSWAP_c91437c521035efa22f69986c52e9110) || preg_match('/^\{.*\}$/s', $OSWAP_c91437c521035efa22f69986c52e9110)) { if ($OSWAP_c91437c521035efa22f69986c52e9110{0} == '[') { $OSWAP_de7c85ebff5378e35c684fa816ebf855 = array(self::JSON_IN_ARR); $OSWAP_7c749433b1ab492835fd8c2f8b84b1cf = array(); } else { if ($OSWAP_eef35170c46f8c6a8756ef34f7f91014) { $OSWAP_de7c85ebff5378e35c684fa816ebf855 = array(self::JSON_IN_OBJ); $OSWAP_802cee8f572000ba8b7c2a4e6846d64c = array(); } else { $OSWAP_de7c85ebff5378e35c684fa816ebf855 = array(self::JSON_IN_OBJ); $OSWAP_802cee8f572000ba8b7c2a4e6846d64c = new stdClass(); } } $OSWAP_de7c85ebff5378e35c684fa816ebf855[] = array('what' => self::JSON_SLICE, 'where' => 0, 'delim' => false); $OSWAP_f46d0a1ef49f161ed393529c7f6fb065 = substr($OSWAP_c91437c521035efa22f69986c52e9110, 1, -1); $OSWAP_f46d0a1ef49f161ed393529c7f6fb065 = self::reduceString($OSWAP_f46d0a1ef49f161ed393529c7f6fb065); if ($OSWAP_f46d0a1ef49f161ed393529c7f6fb065 == '') { if (reset($OSWAP_de7c85ebff5378e35c684fa816ebf855) == self::JSON_IN_ARR) { return $OSWAP_7c749433b1ab492835fd8c2f8b84b1cf; } else { return $OSWAP_802cee8f572000ba8b7c2a4e6846d64c; } } $OSWAP_73d92ba67a2dcecf190bcf98e32e4636 = strlen($OSWAP_f46d0a1ef49f161ed393529c7f6fb065); for ($c = 0; $c <= $OSWAP_73d92ba67a2dcecf190bcf98e32e4636; ++$c) { $OSWAP_5767d58f7dce66e67c757c484e3a1421 = end($OSWAP_de7c85ebff5378e35c684fa816ebf855); $OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 = substr($OSWAP_f46d0a1ef49f161ed393529c7f6fb065, $c, 2); if (($c == $OSWAP_73d92ba67a2dcecf190bcf98e32e4636) || (($OSWAP_f46d0a1ef49f161ed393529c7f6fb065{$c} == ',') && ($OSWAP_5767d58f7dce66e67c757c484e3a1421['what'] == self::JSON_SLICE))) { $OSWAP_037fa49a2a33e62fc7b154bb79f776a2 = substr($OSWAP_f46d0a1ef49f161ed393529c7f6fb065, $OSWAP_5767d58f7dce66e67c757c484e3a1421['where'], ($c - $OSWAP_5767d58f7dce66e67c757c484e3a1421['where'])); $OSWAP_de7c85ebff5378e35c684fa816ebf855[] = array('what' => self::JSON_SLICE, 'where' => ($c + 1), 'delim' => false); if (reset($OSWAP_de7c85ebff5378e35c684fa816ebf855) == self::JSON_IN_ARR) { $OSWAP_7c749433b1ab492835fd8c2f8b84b1cf[] = self::decode($OSWAP_037fa49a2a33e62fc7b154bb79f776a2,$OSWAP_eef35170c46f8c6a8756ef34f7f91014); } elseif (reset($OSWAP_de7c85ebff5378e35c684fa816ebf855) == self::JSON_IN_OBJ) { if (preg_match('/^\s*(["\'].*[^\\\]["\'])\s*:\s*(\S.*),?$/Uis', $OSWAP_037fa49a2a33e62fc7b154bb79f776a2, $OSWAP_277c34467cbf04fafb0668f91b199e0c)) { $OSWAP_a863c67efc53a5fa693701733eacba5a = self::decode($OSWAP_277c34467cbf04fafb0668f91b199e0c[1],$OSWAP_eef35170c46f8c6a8756ef34f7f91014); $OSWAP_f280b4ea2b105b5c0e5303dde3981207 = self::decode($OSWAP_277c34467cbf04fafb0668f91b199e0c[2],$OSWAP_eef35170c46f8c6a8756ef34f7f91014); if ($OSWAP_eef35170c46f8c6a8756ef34f7f91014) { $OSWAP_802cee8f572000ba8b7c2a4e6846d64c[$OSWAP_a863c67efc53a5fa693701733eacba5a] = $OSWAP_f280b4ea2b105b5c0e5303dde3981207; } else { $OSWAP_802cee8f572000ba8b7c2a4e6846d64c->$OSWAP_a863c67efc53a5fa693701733eacba5a = $OSWAP_f280b4ea2b105b5c0e5303dde3981207; } } elseif (preg_match('/^\s*(\w+)\s*:\s*(\S.*),?$/Uis', $OSWAP_037fa49a2a33e62fc7b154bb79f776a2, $OSWAP_277c34467cbf04fafb0668f91b199e0c)) { $OSWAP_a863c67efc53a5fa693701733eacba5a = $OSWAP_277c34467cbf04fafb0668f91b199e0c[1]; $OSWAP_f280b4ea2b105b5c0e5303dde3981207 = self::decode($OSWAP_277c34467cbf04fafb0668f91b199e0c[2],$OSWAP_eef35170c46f8c6a8756ef34f7f91014); if ($OSWAP_eef35170c46f8c6a8756ef34f7f91014) { $OSWAP_802cee8f572000ba8b7c2a4e6846d64c[$OSWAP_a863c67efc53a5fa693701733eacba5a] = $OSWAP_f280b4ea2b105b5c0e5303dde3981207; } else { $OSWAP_802cee8f572000ba8b7c2a4e6846d64c->$OSWAP_a863c67efc53a5fa693701733eacba5a = $OSWAP_f280b4ea2b105b5c0e5303dde3981207; } } } } elseif ((($OSWAP_f46d0a1ef49f161ed393529c7f6fb065{$c} == '"') || ($OSWAP_f46d0a1ef49f161ed393529c7f6fb065{$c} == "'")) && ($OSWAP_5767d58f7dce66e67c757c484e3a1421['what'] != self::JSON_IN_STR)) { $OSWAP_de7c85ebff5378e35c684fa816ebf855[] = array('what' => self::JSON_IN_STR, 'where' => $c, 'delim' => $OSWAP_f46d0a1ef49f161ed393529c7f6fb065{$c}); } elseif (($OSWAP_f46d0a1ef49f161ed393529c7f6fb065{$c} == $OSWAP_5767d58f7dce66e67c757c484e3a1421['delim']) && ($OSWAP_5767d58f7dce66e67c757c484e3a1421['what'] == self::JSON_IN_STR) && (($OSWAP_f46d0a1ef49f161ed393529c7f6fb065{$c - 1} != "\\") || ($OSWAP_f46d0a1ef49f161ed393529c7f6fb065{$c - 1} == "\\" && $OSWAP_f46d0a1ef49f161ed393529c7f6fb065{$c - 2} == "\\"))) { array_pop($OSWAP_de7c85ebff5378e35c684fa816ebf855); } elseif (($OSWAP_f46d0a1ef49f161ed393529c7f6fb065{$c} == '[') && in_array($OSWAP_5767d58f7dce66e67c757c484e3a1421['what'], array(self::JSON_SLICE, self::JSON_IN_ARR, self::JSON_IN_OBJ))) { $OSWAP_de7c85ebff5378e35c684fa816ebf855[] = array('what' => self::JSON_IN_ARR, 'where' => $c, 'delim' => false); } elseif (($OSWAP_f46d0a1ef49f161ed393529c7f6fb065{$c} == ']') && ($OSWAP_5767d58f7dce66e67c757c484e3a1421['what'] == self::JSON_IN_ARR)) { array_pop($OSWAP_de7c85ebff5378e35c684fa816ebf855); } elseif (($OSWAP_f46d0a1ef49f161ed393529c7f6fb065{$c} == '{') && in_array($OSWAP_5767d58f7dce66e67c757c484e3a1421['what'], array(self::JSON_SLICE, self::JSON_IN_ARR, self::JSON_IN_OBJ))) { $OSWAP_de7c85ebff5378e35c684fa816ebf855[] = array('what' => self::JSON_IN_OBJ, 'where' => $c, 'delim' => false); } elseif (($OSWAP_f46d0a1ef49f161ed393529c7f6fb065{$c} == '}') && ($OSWAP_5767d58f7dce66e67c757c484e3a1421['what'] == self::JSON_IN_OBJ)) { array_pop($OSWAP_de7c85ebff5378e35c684fa816ebf855); } elseif (($OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 == '/*') && in_array($OSWAP_5767d58f7dce66e67c757c484e3a1421['what'], array(self::JSON_SLICE, self::JSON_IN_ARR, self::JSON_IN_OBJ))) { $OSWAP_de7c85ebff5378e35c684fa816ebf855[] = array('what' => self::JSON_IN_CMT, 'where' => $c, 'delim' => false); $c++; } elseif (($OSWAP_87fd5f271bab83e96f15761ceaa4c4d0 == '*/') && ($OSWAP_5767d58f7dce66e67c757c484e3a1421['what'] == self::JSON_IN_CMT)) { array_pop($OSWAP_de7c85ebff5378e35c684fa816ebf855); $c++; for ($i = $OSWAP_5767d58f7dce66e67c757c484e3a1421['where']; $i <= $c; ++$i) $OSWAP_f46d0a1ef49f161ed393529c7f6fb065 = substr_replace($OSWAP_f46d0a1ef49f161ed393529c7f6fb065, ' ', $i, 1); } } if (reset($OSWAP_de7c85ebff5378e35c684fa816ebf855) == self::JSON_IN_ARR) { return $OSWAP_7c749433b1ab492835fd8c2f8b84b1cf; } elseif (reset($OSWAP_de7c85ebff5378e35c684fa816ebf855) == self::JSON_IN_OBJ) { return $OSWAP_802cee8f572000ba8b7c2a4e6846d64c; } } } } protected static function utf8ToUnicode( &$OSWAP_c91437c521035efa22f69986c52e9110 ) { $OSWAP_9571bd4f64c42f15a236a5e931e2468d = array(); $OSWAP_b806d73ae171c7d71f028063d20dac23 = array(); $OSWAP_7ce2309ed94229ea01b4868882ff7bbb = 1; for ($i = 0; $i < strlen( $OSWAP_c91437c521035efa22f69986c52e9110 ); $i++ ) { $thisValue = ord( $OSWAP_c91437c521035efa22f69986c52e9110[ $i ] ); if ( $thisValue < 128 ) $OSWAP_9571bd4f64c42f15a236a5e931e2468d[] = $thisValue; else { if ( count( $OSWAP_b806d73ae171c7d71f028063d20dac23 ) == 0 ) $OSWAP_7ce2309ed94229ea01b4868882ff7bbb = ( $thisValue < 224 ) ? 2 : 3; $OSWAP_b806d73ae171c7d71f028063d20dac23[] = $thisValue; if ( count( $OSWAP_b806d73ae171c7d71f028063d20dac23 ) == $OSWAP_7ce2309ed94229ea01b4868882ff7bbb ) { $OSWAP_6ee00142f26b8b0e52b66fc5ac5147ca = ( $OSWAP_7ce2309ed94229ea01b4868882ff7bbb == 3 ) ? ( ( $OSWAP_b806d73ae171c7d71f028063d20dac23[0] % 16 ) * 4096 ) + ( ( $OSWAP_b806d73ae171c7d71f028063d20dac23[1] % 64 ) * 64 ) + ( $OSWAP_b806d73ae171c7d71f028063d20dac23[2] % 64 ): ( ( $OSWAP_b806d73ae171c7d71f028063d20dac23[0] % 32 ) * 64 ) + ( $OSWAP_b806d73ae171c7d71f028063d20dac23[1] % 64 ); $OSWAP_9571bd4f64c42f15a236a5e931e2468d[] = $OSWAP_6ee00142f26b8b0e52b66fc5ac5147ca; $OSWAP_b806d73ae171c7d71f028063d20dac23 = array(); $OSWAP_7ce2309ed94229ea01b4868882ff7bbb = 1; } } } return $OSWAP_9571bd4f64c42f15a236a5e931e2468d; } protected static function unicodeToUTF8( &$OSWAP_c91437c521035efa22f69986c52e9110 ) { $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2 = ''; foreach( $OSWAP_c91437c521035efa22f69986c52e9110 as $OSWAP_9571bd4f64c42f15a236a5e931e2468d ) { if ( $OSWAP_9571bd4f64c42f15a236a5e931e2468d < 128 ) { $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2.= chr( $OSWAP_9571bd4f64c42f15a236a5e931e2468d ); } elseif ( $OSWAP_9571bd4f64c42f15a236a5e931e2468d < 2048 ) { $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2.= chr( 192 + ( ( $OSWAP_9571bd4f64c42f15a236a5e931e2468d - ( $OSWAP_9571bd4f64c42f15a236a5e931e2468d % 64 ) ) / 64 ) ); $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2.= chr( 128 + ( $OSWAP_9571bd4f64c42f15a236a5e931e2468d % 64 ) ); } else { $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2.= chr( 224 + ( ( $OSWAP_9571bd4f64c42f15a236a5e931e2468d - ( $OSWAP_9571bd4f64c42f15a236a5e931e2468d % 4096 ) ) / 4096 ) ); $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2.= chr( 128 + ( ( ( $OSWAP_9571bd4f64c42f15a236a5e931e2468d % 4096 ) - ( $OSWAP_9571bd4f64c42f15a236a5e931e2468d % 64 ) ) / 64 ) ); $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2.= chr( 128 + ( $OSWAP_9571bd4f64c42f15a236a5e931e2468d % 64 ) ); } } return $OSWAP_fa3c11d3fde1884eb4a699831c11f3f2; } protected static function utf8ToUTF16BE(&$OSWAP_c91437c521035efa22f69986c52e9110, $OSWAP_fd90aaf01f3b54903cbe79ab079b1e13 = false) { $OSWAP_c897e1d58c847851877596423a2e9e6a = $OSWAP_fd90aaf01f3b54903cbe79ab079b1e13 ? "\xFE\xFF" : ''; if(function_exists('mb_convert_encoding')) return $OSWAP_c897e1d58c847851877596423a2e9e6a.mb_convert_encoding($OSWAP_c91437c521035efa22f69986c52e9110,'UTF-16BE','UTF-8'); $OSWAP_ee836aa6dcee6744b5067151f584bb30 = self::utf8ToUnicode($OSWAP_c91437c521035efa22f69986c52e9110); foreach($OSWAP_ee836aa6dcee6744b5067151f584bb30 as $cp) $OSWAP_c897e1d58c847851877596423a2e9e6a .= pack('n',$cp); return $OSWAP_c897e1d58c847851877596423a2e9e6a; } protected static function utf16beToUTF8(&$OSWAP_c91437c521035efa22f69986c52e9110) { $OSWAP_ee836aa6dcee6744b5067151f584bb30 = unpack('n*',$OSWAP_c91437c521035efa22f69986c52e9110); return self::unicodeToUTF8($OSWAP_ee836aa6dcee6744b5067151f584bb30); } }
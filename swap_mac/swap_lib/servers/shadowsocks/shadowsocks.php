<?php  function shadowsocks_ConfigOptions() { $configarray = array( "加密方式" => array("Type" => "text", "Size" => "25", "Description" => "加密方式 例如：aes-256-cfb"), "起始端口" => array("Type" => "text", "Size" => "25", "Description" => "起始端口 例如：10000"), "节点" => array("Type" => "text", "Description" => "也就是你的ss服务端IP可填写IP或域名“;”符号隔开格式：节点1|127.0.0.1|aes-256-cfb;节点2|127.0.0.2|aes-256-cfb;节点3|127.0.0.3;(加密方式不写则显示上面的加密方式)"), "流量(GB)" => array("Type" => "text", "Description" => ""), "是否每月清空用户已经使用流量" => array("Type" => "yesno", "Description" => "选择此项就会每个月把用户的已经使用的流量清空"), "是否允许用户清空已经使用流量" => array("Type" => "yesno", "Description" => "允许自己把已经使用的流量清空  适用于 每个周期内无限使用的流量"), "高精度清空用户" => array("Type" => "text", "Size" => "1", "Description" => "(开启是针对整个插件而不是某个产品)需要高精度 也就是按周期清空流量 开启的话去数据库执行 INSERT INTO `插件配置` (`插件名称`, `名`, `值`) VALUES ('shadowsocks_', '高精度', '1');"), "显示用户名密码" => array("Type" => "yesno", "Description" => "用户名密码显示端口和密码"), "显示到期时间" => array("Type" => "yesno", "Description" => "在订单详情显示到期时间"), ); return $configarray; } function shadowsocks_mysqlclose($OSWAP_feefe5e4c8d0db56c3b3893876c3b599) { $OSWAP_feefe5e4c8d0db56c3b3893876c3b599->close(); } function shadowsocks_mysql($OSWAP_78398905e0707a6936244a72019b254f) { if($OSWAP_78398905e0707a6936244a72019b254f['serverip']==''){$OSWAP_78398905e0707a6936244a72019b254f['serverip']=$OSWAP_78398905e0707a6936244a72019b254f['servicer']['ip'];} if($OSWAP_78398905e0707a6936244a72019b254f['serverusername']==''){$OSWAP_78398905e0707a6936244a72019b254f['serverusername']=$OSWAP_78398905e0707a6936244a72019b254f['servicer']['用户名'];} if($OSWAP_78398905e0707a6936244a72019b254f['serverpassword']==''){$OSWAP_78398905e0707a6936244a72019b254f['serverpassword']=$OSWAP_78398905e0707a6936244a72019b254f['servicer']['密码'];} if($OSWAP_78398905e0707a6936244a72019b254f['serveraccesshash']==''){$OSWAP_78398905e0707a6936244a72019b254f['serveraccesshash']=$OSWAP_78398905e0707a6936244a72019b254f['servicer']['哈希密码'];} $ex=explode($OSWAP_78398905e0707a6936244a72019b254f['serverip'],":"); if($ex[0] != "" && $ex[1] != "" ){$OSWAP_39126b89a2e099956f2365b20e9786f6=$ex[0];$OSWAP_acc5630092b535033728cab5460699f6=(int)$ex[1];}else{$OSWAP_39126b89a2e099956f2365b20e9786f6=$OSWAP_78398905e0707a6936244a72019b254f['serverip'];$OSWAP_acc5630092b535033728cab5460699f6=3306;} $OSWAP_feefe5e4c8d0db56c3b3893876c3b599 = @new mysqli($OSWAP_39126b89a2e099956f2365b20e9786f6, $OSWAP_78398905e0707a6936244a72019b254f['serverusername'], $OSWAP_78398905e0707a6936244a72019b254f['serverpassword'], $OSWAP_78398905e0707a6936244a72019b254f["serveraccesshash"], $OSWAP_acc5630092b535033728cab5460699f6); if (mysqli_connect_errno()) die( '数据库连接错误！错误代码：'.mysqli_connect_error()); $OSWAP_feefe5e4c8d0db56c3b3893876c3b599->set_charset('utf8'); return $OSWAP_feefe5e4c8d0db56c3b3893876c3b599; } function shadowsocks_ServerCake($OSWAP_78398905e0707a6936244a72019b254f) { $OSWAP_feefe5e4c8d0db56c3b3893876c3b599=shadowsocks_mysql($OSWAP_78398905e0707a6936244a72019b254f); $a = $OSWAP_feefe5e4c8d0db56c3b3893876c3b599->query("SELECT port FROM user"); $OSWAP_ba802b090ed5825027d3c67fc34bb723=$a->OSWAP_ffff7b56e772b329d91def94cf451558; if($a===false){ ?>
	失败,貌似还未安装SS数据库  <a href="/index.php/Admin/Servicer_Detailed/<?php echo $OSWAP_78398905e0707a6936244a72019b254f['servicer']['id']; ?>/cake/?install=1" target="_blank">点此安装</a><?php
 }else{ ?>成功,当前数据库有 <?php echo $OSWAP_ba802b090ed5825027d3c67fc34bb723; ?> 位ss用户<?php
 } if($_GET['install']!=""){ $OSWAP_d11ce53b8423a5ff33ea9d5c4328f9fe = $OSWAP_feefe5e4c8d0db56c3b3893876c3b599->query("CREATE TABLE IF NOT EXISTS `user` ( `id` int(11) NOT NULL AUTO_INCREMENT, `passwd` varchar(16) NOT NULL, `t` int(11) NOT NULL DEFAULT '0', `u` bigint(20) NOT NULL, `d` bigint(20) NOT NULL, `transfer_enable` bigint(20) NOT NULL, `port` int(11) NOT NULL, `switch` tinyint(4) NOT NULL DEFAULT '1', `enable` tinyint(4) NOT NULL DEFAULT '1', `pid` varchar(50) NOT NULL, PRIMARY KEY (`id`,`port`)) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;"); if ($OSWAP_d11ce53b8423a5ff33ea9d5c4328f9fe===false) { die("<br><h1>安装SS数据库失败</h1><p>你可以手动执行语句:CREATE TABLE IF NOT EXISTS `user` ( `id` int(11) NOT NULL AUTO_INCREMENT, `passwd` varchar(16) NOT NULL, `t` int(11) NOT NULL DEFAULT '0', `u` bigint(20) NOT NULL, `d` bigint(20) NOT NULL, `transfer_enable` bigint(20) NOT NULL, `port` int(11) NOT NULL, `switch` tinyint(4) NOT NULL DEFAULT '1', `enable` tinyint(4) NOT NULL DEFAULT '1', `pid` varchar(50) NOT NULL, PRIMARY KEY (`id`,`port`)) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;</p>");} echo '<br><h1>安装SS数据库成功</h1>'; } shadowsocks_mysqlclose($OSWAP_feefe5e4c8d0db56c3b3893876c3b599); } function shadowsocks_CreateNewPort($OSWAP_78398905e0707a6936244a72019b254f) { $OSWAP_4086b0d18d6e637272dde5e8f9a613c8 = (int)$OSWAP_78398905e0707a6936244a72019b254f['configoption2']; if($OSWAP_4086b0d18d6e637272dde5e8f9a613c8<10) { $OSWAP_4086b0d18d6e637272dde5e8f9a613c8 = 100; } $OSWAP_269a19d1d5ff52e6ef5ea6c4aa62d625 = $OSWAP_4086b0d18d6e637272dde5e8f9a613c8++; $OSWAP_feefe5e4c8d0db56c3b3893876c3b599=shadowsocks_mysql($OSWAP_78398905e0707a6936244a72019b254f); while($OSWAP_feefe5e4c8d0db56c3b3893876c3b599->query("SELECT port FROM user WHERE port='".$OSWAP_269a19d1d5ff52e6ef5ea6c4aa62d625."'")->OSWAP_ffff7b56e772b329d91def94cf451558){ $OSWAP_269a19d1d5ff52e6ef5ea6c4aa62d625 = $OSWAP_4086b0d18d6e637272dde5e8f9a613c8++; } shadowsocks_mysqlclose($OSWAP_feefe5e4c8d0db56c3b3893876c3b599); if($OSWAP_269a19d1d5ff52e6ef5ea6c4aa62d625>=65535) return '已经没有端口可分配了'; D()->update('产品',"配置选项2='".$OSWAP_4086b0d18d6e637272dde5e8f9a613c8."'","id='".$OSWAP_78398905e0707a6936244a72019b254f["pid"]."'"); return $OSWAP_269a19d1d5ff52e6ef5ea6c4aa62d625; } function shadowsocks_UsageUpdate($OSWAP_78398905e0707a6936244a72019b254f) { $OSWAP_17c2232aaa9975cf5087622f88263937=plug_eva('shadowsocks_','高精度'); if($OSWAP_17c2232aaa9975cf5087622f88263937=='1') $OSWAP_82af7c9fea520b5d8417bb23b128454a=true; else $OSWAP_82af7c9fea520b5d8417bb23b128454a=false; $OSWAP_4b8d8519ded305a4eb6424bdfcb348a8=strtotime("-1 month"); D()->select('产品', '*', "`服务器组` = '{$OSWAP_78398905e0707a6936244a72019b254f['serverid']}' AND `配置选项5`='on'"); $cp=array(); $fw=array(); $ym=date("Y.m"); while ($OSWAP_8fabef7f773f20f922cae6938445a1f4 = D()->fetch_assoc()) $cp[]=$OSWAP_8fabef7f773f20f922cae6938445a1f4['id']; foreach($cp AS $b){ D()->select('服务', '*', "`产品id` = '{$b}'"); while ($OSWAP_8fabef7f773f20f922cae6938445a1f4 = D()->fetch_assoc()){ $OSWAP_0ce6a1b5051d56edd1793b9196894060=plug_eva('服务器_shadowsocks',$OSWAP_8fabef7f773f20f922cae6938445a1f4['id']); if($OSWAP_82af7c9fea520b5d8417bb23b128454a){ if($OSWAP_0ce6a1b5051d56edd1793b9196894060<$OSWAP_4b8d8519ded305a4eb6424bdfcb348a8) $fw[]=$OSWAP_8fabef7f773f20f922cae6938445a1f4['id']; }else{ if(date("Y.m",$OSWAP_0ce6a1b5051d56edd1793b9196894060)!=$ym) $fw[]=$OSWAP_8fabef7f773f20f922cae6938445a1f4['id']; } } } $OSWAP_feefe5e4c8d0db56c3b3893876c3b599=shadowsocks_mysql($OSWAP_78398905e0707a6936244a72019b254f); foreach($fw AS $c){ if($OSWAP_feefe5e4c8d0db56c3b3893876c3b599->query("UPDATE `user` SET `u`=0, `d`=0 WHERE pid='{$c}'")){ plug_eva('服务器_shadowsocks',$c,time()); } } shadowsocks_mysqlclose($OSWAP_feefe5e4c8d0db56c3b3893876c3b599); } function shadowsocks_CreateAccount($OSWAP_78398905e0707a6936244a72019b254f) { $OSWAP_33aa996f74a8bb42c8c296d084e85673 = $OSWAP_78398905e0707a6936244a72019b254f["serviceid"]; $OSWAP_32d880fa54f3531f695eb52a282b5543 = $OSWAP_78398905e0707a6936244a72019b254f["password"]; $OSWAP_acc5630092b535033728cab5460699f6= shadowsocks_CreateNewPort($OSWAP_78398905e0707a6936244a72019b254f); $OSWAP_feefe5e4c8d0db56c3b3893876c3b599=shadowsocks_mysql($OSWAP_78398905e0707a6936244a72019b254f); $temp=$OSWAP_feefe5e4c8d0db56c3b3893876c3b599->query("SELECT pid FROM user WHERE pid='{$OSWAP_33aa996f74a8bb42c8c296d084e85673}'"); if(!$temp) return '您还没有安装SS数据库,请使用服务器页面检测服务器通信安装'; $OSWAP_14b17a962a9b073b5bc6d6f3357e631c=$temp->fetch_assoc(); if (!empty($OSWAP_14b17a962a9b073b5bc6d6f3357e631c['pid'])) {shadowsocks_mysqlclose($OSWAP_feefe5e4c8d0db56c3b3893876c3b599);return "服务已经存在.";} $OSWAP_ef733775c49a067a1f2348223bfae888 = (float)$OSWAP_78398905e0707a6936244a72019b254f['configoption4']*1073741824; $OSWAP_d11ce53b8423a5ff33ea9d5c4328f9fe = $OSWAP_feefe5e4c8d0db56c3b3893876c3b599->query("INSERT INTO user (pid,passwd,port,transfer_enable) VALUES ('{$OSWAP_33aa996f74a8bb42c8c296d084e85673}','{$OSWAP_32d880fa54f3531f695eb52a282b5543}','{$OSWAP_acc5630092b535033728cab5460699f6}','{$OSWAP_ef733775c49a067a1f2348223bfae888}')"); shadowsocks_mysqlclose($OSWAP_feefe5e4c8d0db56c3b3893876c3b599); if ($OSWAP_d11ce53b8423a5ff33ea9d5c4328f9fe===false) { return '错误:云端不能创建新用户';} plug_eva('服务器_shadowsocks',$OSWAP_33aa996f74a8bb42c8c296d084e85673,time()); return '成功'; } function shadowsocks_TerminateAccount($OSWAP_78398905e0707a6936244a72019b254f) { $OSWAP_feefe5e4c8d0db56c3b3893876c3b599=shadowsocks_mysql($OSWAP_78398905e0707a6936244a72019b254f); $OSWAP_d11ce53b8423a5ff33ea9d5c4328f9fe = $OSWAP_feefe5e4c8d0db56c3b3893876c3b599->query("DELETE FROM user WHERE pid='{$OSWAP_78398905e0707a6936244a72019b254f['serviceid']}'"); shadowsocks_mysqlclose($OSWAP_feefe5e4c8d0db56c3b3893876c3b599); if ($OSWAP_d11ce53b8423a5ff33ea9d5c4328f9fe===false) { return '错误:云端没有终止该账户';} return '成功'; } function shadowsocks_SuspendAccount($OSWAP_78398905e0707a6936244a72019b254f) { $OSWAP_feefe5e4c8d0db56c3b3893876c3b599=shadowsocks_mysql($OSWAP_78398905e0707a6936244a72019b254f); $OSWAP_9750ecbbc7b79924bed7bda93f228bfb=$OSWAP_78398905e0707a6936244a72019b254f['serviceid']; $OSWAP_d11ce53b8423a5ff33ea9d5c4328f9fe = $OSWAP_feefe5e4c8d0db56c3b3893876c3b599->query("UPDATE user SET  switch='0', enable='0' WHERE pid='{$OSWAP_9750ecbbc7b79924bed7bda93f228bfb}'"); shadowsocks_mysqlclose($OSWAP_feefe5e4c8d0db56c3b3893876c3b599); if ($OSWAP_d11ce53b8423a5ff33ea9d5c4328f9fe===false) { return '错误:云端不能暂停用户';} return '成功'; } function shadowsocks_UnsuspendAccount($OSWAP_78398905e0707a6936244a72019b254f) { $OSWAP_feefe5e4c8d0db56c3b3893876c3b599=shadowsocks_mysql($OSWAP_78398905e0707a6936244a72019b254f); $OSWAP_9750ecbbc7b79924bed7bda93f228bfb=$OSWAP_78398905e0707a6936244a72019b254f['serviceid']; $OSWAP_d11ce53b8423a5ff33ea9d5c4328f9fe = $OSWAP_feefe5e4c8d0db56c3b3893876c3b599->query("UPDATE user SET  switch='1', enable='1' WHERE pid='{$OSWAP_9750ecbbc7b79924bed7bda93f228bfb}'"); shadowsocks_mysqlclose($OSWAP_feefe5e4c8d0db56c3b3893876c3b599); if ($OSWAP_d11ce53b8423a5ff33ea9d5c4328f9fe===false) { return '错误:云端不能解除暂停用户';} return '成功'; } function shadowsocks_ChangePassword($OSWAP_78398905e0707a6936244a72019b254f) { $OSWAP_feefe5e4c8d0db56c3b3893876c3b599=shadowsocks_mysql($OSWAP_78398905e0707a6936244a72019b254f); $OSWAP_9750ecbbc7b79924bed7bda93f228bfb=$OSWAP_78398905e0707a6936244a72019b254f['serviceid']; $OSWAP_d11ce53b8423a5ff33ea9d5c4328f9fe = $OSWAP_feefe5e4c8d0db56c3b3893876c3b599->query("UPDATE user SET passwd='{$OSWAP_78398905e0707a6936244a72019b254f['password']}' WHERE pid='{$OSWAP_9750ecbbc7b79924bed7bda93f228bfb}'"); shadowsocks_mysqlclose($OSWAP_feefe5e4c8d0db56c3b3893876c3b599); if ($OSWAP_d11ce53b8423a5ff33ea9d5c4328f9fe===false) { return '公开信息:修改密码失败';} return '成功'; } function shadowsocks_ClientAreaLIB($OSWAP_55a9f9f589c0a45e335e35fc01f6b29c,&$OSWAP_4df6ee95de1939a8c64540e78b6c8451) { $L = plug_lang_get('shadowsocks', '', '2'); $OSWAP_78398905e0707a6936244a72019b254f=ModuleBuildParams($OSWAP_4df6ee95de1939a8c64540e78b6c8451['id']); $OSWAP_feefe5e4c8d0db56c3b3893876c3b599=shadowsocks_mysql($OSWAP_78398905e0707a6936244a72019b254f); $OSWAP_4df6ee95de1939a8c64540e78b6c8451['密码']=''; $OSWAP_4df6ee95de1939a8c64540e78b6c8451['用户名']=''; if($OSWAP_78398905e0707a6936244a72019b254f['configoption9']!='on') $OSWAP_4df6ee95de1939a8c64540e78b6c8451['到期时间']=''; $OSWAP_4df6ee95de1939a8c64540e78b6c8451['ip地址']=''; $OSWAP_4df6ee95de1939a8c64540e78b6c8451['主机名']=''; if($OSWAP_78398905e0707a6936244a72019b254f['configoption6']=='on' && _GET('clean')=='ok'){ $OSWAP_feefe5e4c8d0db56c3b3893876c3b599->query("UPDATE `user` SET `u`=0, `d`=0 WHERE pid='{$OSWAP_4df6ee95de1939a8c64540e78b6c8451['id']}'"); } if(_POST('changepass')!='' && _POST('changepassok')!=''){ $OSWAP_d11ce53b8423a5ff33ea9d5c4328f9fe = $OSWAP_feefe5e4c8d0db56c3b3893876c3b599->query("UPDATE user SET passwd='"._POST('changepass')."' WHERE pid='{$OSWAP_4df6ee95de1939a8c64540e78b6c8451['id']}'"); shadowsocks_mysqlclose($OSWAP_feefe5e4c8d0db56c3b3893876c3b599); if ($OSWAP_d11ce53b8423a5ff33ea9d5c4328f9fe===false) die('修改密码失败'); die('修改密码成功'); } $temp=$OSWAP_feefe5e4c8d0db56c3b3893876c3b599->query("SELECT sum(u+d),port,passwd,transfer_enable FROM user WHERE pid='{$OSWAP_4df6ee95de1939a8c64540e78b6c8451['id']}'"); $OSWAP_6306d43e2095d0fed20cba851fc75b47=$temp->fetch_assoc(); $OSWAP_ef733775c49a067a1f2348223bfae888 =$OSWAP_6306d43e2095d0fed20cba851fc75b47['transfer_enable'] / 1073741824 ; $OSWAP_ef733775c49a067a1f2348223bfae888 = round($OSWAP_ef733775c49a067a1f2348223bfae888,2); $OSWAP_3e8b7aa0e29deb2a477edd01c1def7f3 = $OSWAP_6306d43e2095d0fed20cba851fc75b47['sum(u+d)'] / 1073741824 ; $OSWAP_9181b051fca13c2e2a867b8193fa96e2 = $OSWAP_6306d43e2095d0fed20cba851fc75b47['port']; $OSWAP_4816ff557293afa473fb7241afb4431a = $OSWAP_ef733775c49a067a1f2348223bfae888 - $OSWAP_3e8b7aa0e29deb2a477edd01c1def7f3; $OSWAP_32d880fa54f3531f695eb52a282b5543 = $OSWAP_6306d43e2095d0fed20cba851fc75b47['passwd']; $OSWAP_3e8b7aa0e29deb2a477edd01c1def7f3 = round($OSWAP_3e8b7aa0e29deb2a477edd01c1def7f3,2); $OSWAP_4816ff557293afa473fb7241afb4431a = round($OSWAP_4816ff557293afa473fb7241afb4431a,2); if ($OSWAP_9181b051fca13c2e2a867b8193fa96e2 == '') $OSWAP_9181b051fca13c2e2a867b8193fa96e2 = "获取失败"; if ($OSWAP_4816ff557293afa473fb7241afb4431a == '') $OSWAP_4816ff557293afa473fb7241afb4431a = "获取失败"; if ($OSWAP_32d880fa54f3531f695eb52a282b5543 == '') $OSWAP_32d880fa54f3531f695eb52a282b5543 = "获取失败"; if ($OSWAP_ef733775c49a067a1f2348223bfae888 == '') $OSWAP_ef733775c49a067a1f2348223bfae888 = "获取失败"; $L['修改密码js']=str_replace("[服务id]", $OSWAP_4df6ee95de1939a8c64540e78b6c8451['id'], $L['修改密码js']); $L['链接密码后面的']=str_replace("[password]", $OSWAP_32d880fa54f3531f695eb52a282b5543, $L['链接密码后面的']); echo $L['导入生成二维码js'].$L['修改密码js']; if(!empty($L['加密方式'])) $OSWAP_18a62040a09ee76aaa4b81db48f6f0c0[]=array('名称'=>$L['加密方式'],'值'=>$OSWAP_55a9f9f589c0a45e335e35fc01f6b29c['配置选项1']); if(!empty($L['连接端口'])) $OSWAP_18a62040a09ee76aaa4b81db48f6f0c0[]=array('名称'=>$L['连接端口'],'值'=>$OSWAP_9181b051fca13c2e2a867b8193fa96e2); if(!empty($L['连接密码'])) $OSWAP_18a62040a09ee76aaa4b81db48f6f0c0[]=array('名称'=>$L['连接密码'],'值'=>$L['链接密码后面的']); $OSWAP_18a62040a09ee76aaa4b81db48f6f0c0[]=array('名称'=>'总流量','值'=>$OSWAP_ef733775c49a067a1f2348223bfae888.' GB' ); $OSWAP_18a62040a09ee76aaa4b81db48f6f0c0[]=array('名称'=>'流量使用状态','值'=>'已用: '.$OSWAP_3e8b7aa0e29deb2a477edd01c1def7f3.' GB 未用:'.$OSWAP_4816ff557293afa473fb7241afb4431a.' GB' ); $OSWAP_f9f5df6a1d8473537770eef548852537 = explode(';', $OSWAP_55a9f9f589c0a45e335e35fc01f6b29c['配置选项3']); $o=0; foreach($OSWAP_f9f5df6a1d8473537770eef548852537 as $OSWAP_6406e38085ae6d9d6f044f788225bee9){ $o++; $OSWAP_e232496239821f066fa62a7ae205b471=explode('|', $OSWAP_6406e38085ae6d9d6f044f788225bee9); if(empty($OSWAP_e232496239821f066fa62a7ae205b471[2])) $OSWAP_e232496239821f066fa62a7ae205b471[2]=$OSWAP_55a9f9f589c0a45e335e35fc01f6b29c['配置选项1']; if($OSWAP_e232496239821f066fa62a7ae205b471[0] != '' || $OSWAP_e232496239821f066fa62a7ae205b471[1] != '' ){ $OSWAP_d043f2bbda8e6ac0983c3d83b8e6963c=str_replace("[a]", $OSWAP_e232496239821f066fa62a7ae205b471[1], $L['节点信息']); $OSWAP_d043f2bbda8e6ac0983c3d83b8e6963c=str_replace("[b]", $OSWAP_e232496239821f066fa62a7ae205b471[2], $OSWAP_d043f2bbda8e6ac0983c3d83b8e6963c); $OSWAP_d043f2bbda8e6ac0983c3d83b8e6963c=str_replace("[c]", $o, $OSWAP_d043f2bbda8e6ac0983c3d83b8e6963c); $OSWAP_18a62040a09ee76aaa4b81db48f6f0c0[]=array('名称'=>$OSWAP_e232496239821f066fa62a7ae205b471[0],'值'=>$OSWAP_d043f2bbda8e6ac0983c3d83b8e6963c); echo "<script> function showewm{$o}(){ $('ewmshow').html('{$OSWAP_e232496239821f066fa62a7ae205b471[0]}<br>');jQuery('ewmshow').qrcode('".'ss://'.base64_encode($OSWAP_e232496239821f066fa62a7ae205b471[2].':'.$OSWAP_32d880fa54f3531f695eb52a282b5543.'@'.$OSWAP_e232496239821f066fa62a7ae205b471[1].':'.$OSWAP_9181b051fca13c2e2a867b8193fa96e2)."'); }</script>"; } } if($OSWAP_78398905e0707a6936244a72019b254f['configoption6']=='on'){ $OSWAP_18a62040a09ee76aaa4b81db48f6f0c0[]=array('名称'=>'清空已使用流量','值'=>"<a href=\"/index.php/control/detail/{$OSWAP_4df6ee95de1939a8c64540e78b6c8451['id']}/?clean=ok\">清空已使用流量</a>" ); } if($OSWAP_78398905e0707a6936244a72019b254f['configoption8']=='on'){ $OSWAP_4df6ee95de1939a8c64540e78b6c8451['密码']=$OSWAP_32d880fa54f3531f695eb52a282b5543; $OSWAP_4df6ee95de1939a8c64540e78b6c8451['用户名']=$OSWAP_9181b051fca13c2e2a867b8193fa96e2; } if(!empty($L['二维码'])) $OSWAP_18a62040a09ee76aaa4b81db48f6f0c0[]=array('名称'=>$L['二维码'],'值'=>"<ewmshow>当前未选择节点，请点击节点的地址以显示二维码</ewmshow>" ); TEMPLATE::assign('options',$OSWAP_18a62040a09ee76aaa4b81db48f6f0c0); shadowsocks_mysqlclose($OSWAP_feefe5e4c8d0db56c3b3893876c3b599); } add_swap_plug('产品控制面板详情','shadowsocks_ClientAreaLIB'); 
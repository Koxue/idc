<?php  defined('SWAP_ROOT') or die('非法操作'); try{ $GLOBALS['swap_mac']['c_name']='swap_'.$GLOBALS['swap_mac']['c_str']; $GLOBALS['swap_mac']['c_path']=SWAP_CONTROLLER.$GLOBALS['swap_mac']['c_name'].'.php'; if(!file_exists($GLOBALS['swap_mac']['c_path'])): FileRoute::Start($OSWAP_1e2beaaf00b82e3bbe8c2179bcd53ed7); die(swap_main_error_module('无法加载模块',$GLOBALS['swap_mac']['c_str'],1)); endif; require($GLOBALS['swap_mac']['c_path']); if(!class_exists($GLOBALS['swap_mac']['c_name'])): FileRoute::Start($OSWAP_1e2beaaf00b82e3bbe8c2179bcd53ed7); die(swap_main_error_module('模块已经损坏',$GLOBALS['swap_mac']['c_name'],1)); else: $GLOBALS['swap_mac']['controller']=new $GLOBALS['swap_mac']['c_name']; endif; if(!method_exists($GLOBALS['swap_mac']['controller'],$GLOBALS['swap_mac']['method'])): FileRoute::Start($OSWAP_1e2beaaf00b82e3bbe8c2179bcd53ed7); die(swap_main_error_module('非法操作',$GLOBALS['swap_mac']['method'],1)); else: if($GLOBALS['swap_mac']['jump/']): $OSWAP_596ebd3e867c668a94899980cc01bddf=explode('?',$OSWAP_1e2beaaf00b82e3bbe8c2179bcd53ed7); exit(header('Location: '.$OSWAP_596ebd3e867c668a94899980cc01bddf[0].'/?'.$OSWAP_596ebd3e867c668a94899980cc01bddf[1])); endif; call_user_func(array(&$GLOBALS['swap_mac']['controller'],$GLOBALS['swap_mac']['method'])); endif; }catch(Exception $e){ swap_main_error_module('运行发生错误',$e->getMessage()); } 
<?php  defined('SWAP_ROOT') or die('非法操作'); class tenpay extends controller{ function config(){ return array( 'swap_no_login' => array( 'notify_url'=>'1', 'admin'=>'1' ), 'index' => '1', 'return_url'=>'1', 'return_url'=>'1', 'notify_url'=>'0' ); } function index(){ global $swap_mac; $OSWAP_47626efbc89f1648045667c75edd8b40 = _POST('money'); $lang=$this->lang; $OSWAP_4ff2cb28d594262a4e2ae7c12debcd15 = plug_eva('tenpay', '密钥'); $OSWAP_31d0c4a80d1aea2464dc4d8d915a0ee2 = plug_eva('tenpay', '商户号'); $OSWAP_b352adc8430596ff4f588e41285f6bf7=$this->getuid(); if($OSWAP_47626efbc89f1648045667c75edd8b40 == ''){ die(redirect("/index.php/user/pay/?warning={$lang['金额不能为空']}")); } if(!preg_match('/^[0-9]+(.[0-9]{1,2})?$/', $OSWAP_47626efbc89f1648045667c75edd8b40)){ die(redirect("/index.php/user/pay/?warning={$lang['请输入一个正确金额数值']}")); } if($OSWAP_47626efbc89f1648045667c75edd8b40 == '0'){ die(redirect("/index.php/user/pay/?warning={$lang['金额不能为0']}")); } $OSWAP_c635a4bd32068b476d1de44283c01ef9 = 'tenpay'.date('YmdHis').rand(100, 999).$OSWAP_b352adc8430596ff4f588e41285f6bf7; $this->conn->insert('支付接口日志', '支付接口,时间,uid,动作', "'tenpay',NOW(),'{$OSWAP_b352adc8430596ff4f588e41285f6bf7}','请求存款操作,存入{$OSWAP_47626efbc89f1648045667c75edd8b40}元'"); $this->conn->free(); $this->conn->insert('审核订单', 'uid,订单id,时间,总价,支付网关,状态', "'{$OSWAP_b352adc8430596ff4f588e41285f6bf7}','{$OSWAP_c635a4bd32068b476d1de44283c01ef9}',NOW(),'{$OSWAP_47626efbc89f1648045667c75edd8b40}','tenpay','创建订单'"); $OSWAP_844bdf2dfdf1e0cc9ee0ce01733efe5a = $swap_mac['c']['网站名称']; requirer('lib/RequestHandler.class.php', 'tenpay'); $OSWAP_d33b02c391b26d97f400534cd5870e7d = new RequestHandler(); $OSWAP_d33b02c391b26d97f400534cd5870e7d->init(); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setKey($OSWAP_4ff2cb28d594262a4e2ae7c12debcd15); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setGateUrl("https://gw.tenpay.com/gateway/pay.htm"); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("partner", $OSWAP_31d0c4a80d1aea2464dc4d8d915a0ee2); $OSWAP_0c486eb5b4f59490bc75fb9c0e517fc3 = $OSWAP_844bdf2dfdf1e0cc9ee0ce01733efe5a . ' 预存款充值'; $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("out_trade_no", $OSWAP_c635a4bd32068b476d1de44283c01ef9); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("total_fee", $OSWAP_47626efbc89f1648045667c75edd8b40 * 100); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("return_url", "http://{$_SERVER['SERVER_NAME']}/index.php/plugin/tenpay/return_url/"); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("notify_url", "http://{$_SERVER['SERVER_NAME']}/index.php/plugin/tenpay/notify_url/"); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("body", $OSWAP_0c486eb5b4f59490bc75fb9c0e517fc3); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("bank_type", "DEFAULT"); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("spbill_create_ip", $_SERVER['REMOTE_ADDR']); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("fee_type", "1"); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("subject", $OSWAP_0c486eb5b4f59490bc75fb9c0e517fc3); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("sign_type", "MD5"); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("service_version", "1.0"); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("input_charset", "utf-8"); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("sign_key_index", "1"); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("attach", ""); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("product_fee", $OSWAP_47626efbc89f1648045667c75edd8b40 * 100); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("transport_fee", "0"); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("time_start", date("YmdHis")); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("time_expire", ""); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("buyer_id", ""); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("goods_tag", ""); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("trade_mode", "1"); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("transport_desc", ""); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("trans_type", "1"); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("agentid", ""); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("agent_type", "0"); $OSWAP_d33b02c391b26d97f400534cd5870e7d->setParameter("seller_id", ""); $OSWAP_95a7e6f588fb1fd375a2b927b0e7d1dd = $OSWAP_d33b02c391b26d97f400534cd5870e7d->getRequestURL(); $debugInfo = $OSWAP_95a7e6f588fb1fd375a2b927b0e7d1dd.'|-|'.$OSWAP_d33b02c391b26d97f400534cd5870e7d->getDebugInfo(); header("Location:{$OSWAP_95a7e6f588fb1fd375a2b927b0e7d1dd}"); echo "<form id='tenpaysubmit' name='tenpaysubmit' action='{$OSWAP_95a7e6f588fb1fd375a2b927b0e7d1dd}' method='get'></form><script>document.forms['tenpaysubmit'].submit();</script>"; } function notify_url(){ global $swap_mac; $OSWAP_4ff2cb28d594262a4e2ae7c12debcd15 = plug_eva('tenpay', '密钥'); $OSWAP_31d0c4a80d1aea2464dc4d8d915a0ee2 = plug_eva('tenpay', '商户号'); requirer("lib/ResponseHandler.class.php", 'tenpay'); requirer("lib/RequestHandler.class.php", 'tenpay'); requirer("lib/client/ClientResponseHandler.class.php", 'tenpay'); requirer("lib/client/TenpayHttpClient.class.php", 'tenpay'); $OSWAP_218be2da51bf152852b9bcf3511b3b83 = new ResponseHandler(); $OSWAP_218be2da51bf152852b9bcf3511b3b83->setKey($OSWAP_4ff2cb28d594262a4e2ae7c12debcd15); if($OSWAP_218be2da51bf152852b9bcf3511b3b83->isTenpaySign()){ $OSWAP_06f19772d80b4c8a91944ad4a5ad533f = $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("notify_id"); $OSWAP_107bc0337e68442042fec459fdc09fe2 = new RequestHandler(); $OSWAP_107bc0337e68442042fec459fdc09fe2->init(); $OSWAP_107bc0337e68442042fec459fdc09fe2->setKey($OSWAP_4ff2cb28d594262a4e2ae7c12debcd15); $OSWAP_107bc0337e68442042fec459fdc09fe2->setGateUrl("https://gw.tenpay.com/gateway/simpleverifynotifyid.xml"); $OSWAP_107bc0337e68442042fec459fdc09fe2->setParameter("partner", $OSWAP_31d0c4a80d1aea2464dc4d8d915a0ee2); $OSWAP_107bc0337e68442042fec459fdc09fe2->setParameter("notify_id", $OSWAP_06f19772d80b4c8a91944ad4a5ad533f); $OSWAP_99054df15f58e2bdbcc62fb6d2d646e2 = new TenpayHttpClient(); $OSWAP_99054df15f58e2bdbcc62fb6d2d646e2->setTimeOut(5); $OSWAP_99054df15f58e2bdbcc62fb6d2d646e2->setReqContent($OSWAP_107bc0337e68442042fec459fdc09fe2->getRequestURL()); if($OSWAP_99054df15f58e2bdbcc62fb6d2d646e2->call()){ $OSWAP_fcb40875aa352efa1e1bcac7643f0603 = new ClientResponseHandler(); $OSWAP_fcb40875aa352efa1e1bcac7643f0603->setContent($OSWAP_99054df15f58e2bdbcc62fb6d2d646e2->getResContent()); $OSWAP_fcb40875aa352efa1e1bcac7643f0603->setKey($OSWAP_4ff2cb28d594262a4e2ae7c12debcd15); $OSWAP_e2d3671b6b0a910b277add93a35ee449 = ""; $debuginfo = ""; if($OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("trade_mode") == "1"){ if($OSWAP_fcb40875aa352efa1e1bcac7643f0603->isTenpaySign() && $OSWAP_fcb40875aa352efa1e1bcac7643f0603->getParameter("retcode") == "0" && $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("trade_state") == "0"){ $OSWAP_c635a4bd32068b476d1de44283c01ef9 = $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("out_trade_no"); $OSWAP_cd1e77d7f57d6feeb2df00407ba9d810 = $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("transaction_id"); $OSWAP_cab9aa23462ecc05c1c63445a6a60cfc = $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("total_fee") / 100; $OSWAP_af768e363803a066d2adcc3f15a16619 = $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("discount"); $this->conn->select('审核订单', '*', "订单id='{$OSWAP_c635a4bd32068b476d1de44283c01ef9}'"); $OSWAP_ccb75b29f81777c031d1a1c06809f820 = $this->conn->fetch_array(); $this->conn->free(); $this->conn->select('用户', '*', "uid='{$OSWAP_ccb75b29f81777c031d1a1c06809f820['uid']}"); $OSWAP_b07b263ee94eeb5fc4b3dd31a1b38d9e = $this->conn->fetch_array(); if(round($OSWAP_cab9aa23462ecc05c1c63445a6a60cfc, 2) != round($OSWAP_ccb75b29f81777c031d1a1c06809f820['总价'], 2)){ $OSWAP_e2d3671b6b0a910b277add93a35ee449.= "价格不匹配!收到价格:{$OSWAP_cab9aa23462ecc05c1c63445a6a60cfc},财付通订单号:{$OSWAP_cd1e77d7f57d6feeb2df00407ba9d810},站内订单号：{$OSWAP_c635a4bd32068b476d1de44283c01ef9}"; $this->conn->free(); echo "fail"; }else{ $OSWAP_72af843887a8ccc4046aa09d6225b9de = plug_eva('tenpay', '交易币汇率'); $this->conn->update('用户', "预存款='" . ((double)$OSWAP_b07b263ee94eeb5fc4b3dd31a1b38d9e['预存款'] + (double)$OSWAP_ccb75b29f81777c031d1a1c06809f820['总价'] * (double)$OSWAP_72af843887a8ccc4046aa09d6225b9de) . "'", "uid='{$OSWAP_ccb75b29f81777c031d1a1c06809f820['uid']}"); $this->conn->update('审核订单', "状态='充值完成'", "订单id='{$OSWAP_c635a4bd32068b476d1de44283c01ef9}'"); echo "success"; } }else{ $OSWAP_e2d3671b6b0a910b277add93a35ee449.= "验证签名失败 或 业务错误信息:trade_state=" . $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("trade_state") . ",retcode=" . $OSWAP_fcb40875aa352efa1e1bcac7643f0603->getParameter("retcode") . ",retmsg=" . $OSWAP_fcb40875aa352efa1e1bcac7643f0603->getParameter("retmsg") . "\r\n"; $this->conn->update('审核订单', "状态='充值失败'", "订单id='{$OSWAP_c635a4bd32068b476d1de44283c01ef9}'"); echo "fail"; } }else{ $OSWAP_c635a4bd32068b476d1de44283c01ef9 = $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("out_trade_no"); $this->conn->update('审核订单', "状态='交易类型出错021{$OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("trade_mode")}'", "订单id='{$OSWAP_c635a4bd32068b476d1de44283c01ef9}'"); if($OSWAP_fcb40875aa352efa1e1bcac7643f0603->isTenpaySign() && $OSWAP_fcb40875aa352efa1e1bcac7643f0603->getParameter("retcode") == "0"){ echo "success"; $this->conn->update('审核订单', "状态='交易类型出错022{$OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("trade_mode")}'", "订单id='{$OSWAP_c635a4bd32068b476d1de44283c01ef9}'"); } $debuginfo.= "\r\nhttp res:{$OSWAP_99054df15f58e2bdbcc62fb6d2d646e2->getResponseCode()},{$OSWAP_99054df15f58e2bdbcc62fb6d2d646e2->getErrInfo()}\r\nquery req:" . htmlentities($OSWAP_107bc0337e68442042fec459fdc09fe2->getRequestURL(),ENT_NOQUOTES, "GB2312") . "\r\nquery res:" . htmlentities($OSWAP_fcb40875aa352efa1e1bcac7643f0603->getContent() , ENT_NOQUOTES, "GB2312") . "\r\nquery reqdebug:{$OSWAP_107bc0337e68442042fec459fdc09fe2->getDebugInfo()}\r\nquery resdebug:{$OSWAP_fcb40875aa352efa1e1bcac7643f0603->getDebugInfo()}"; } }else{ echo "fail"; $OSWAP_e2d3671b6b0a910b277add93a35ee449.= "call err:" . $OSWAP_99054df15f58e2bdbcc62fb6d2d646e2->getResponseCode() . "," . $OSWAP_99054df15f58e2bdbcc62fb6d2d646e2->getErrInfo() . "\r\n"; } }else{ echo "fail"; $OSWAP_e2d3671b6b0a910b277add93a35ee449.= "认证签名失败 getDebugInfo:" . $OSWAP_99054df15f58e2bdbcc62fb6d2d646e2->getDebugInfo() . "\r\n"; } if($OSWAP_e2d3671b6b0a910b277add93a35ee449 != ""){ $this->conn->insert('支付接口日志', '支付接口,时间,uid,动作', "'tenpay',NOW(),'{$OSWAP_ccb75b29f81777c031d1a1c06809f820['uid']}','接口出错:{$OSWAP_e2d3671b6b0a910b277add93a35ee449}"); } if($debuginfo != "" && SWAP_DEBUG){ } } function return_url(){ global $swap_mac; $OSWAP_844bdf2dfdf1e0cc9ee0ce01733efe5a = $swap_mac['c']['网站名称']; $OSWAP_4ff2cb28d594262a4e2ae7c12debcd15 = plug_eva('tenpay', '密钥'); $OSWAP_31d0c4a80d1aea2464dc4d8d915a0ee2 = plug_eva('tenpay', '商户号'); requirer('lib/ResponseHandler.class.php', 'tenpay'); requirer('lib/function.php', 'tenpay'); $OSWAP_218be2da51bf152852b9bcf3511b3b83 = new ResponseHandler(); $OSWAP_218be2da51bf152852b9bcf3511b3b83->setKey($OSWAP_4ff2cb28d594262a4e2ae7c12debcd15); if($OSWAP_218be2da51bf152852b9bcf3511b3b83->isTenpaySign()){ $OSWAP_06f19772d80b4c8a91944ad4a5ad533f = $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("notify_id"); $OSWAP_c635a4bd32068b476d1de44283c01ef9 = $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("out_trade_no"); $OSWAP_cd1e77d7f57d6feeb2df00407ba9d810 = $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("transaction_id"); $OSWAP_cab9aa23462ecc05c1c63445a6a60cfc = $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("total_fee"); $OSWAP_af768e363803a066d2adcc3f15a16619 = $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("discount"); $OSWAP_2c9ba1710d5493846c2171543632788a = $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("trade_state"); $OSWAP_159a422ee25e73403e3d5a35bead1091 = $OSWAP_218be2da51bf152852b9bcf3511b3b83->getParameter("trade_mode"); if("1" == $OSWAP_159a422ee25e73403e3d5a35bead1091){ if("0" == $OSWAP_2c9ba1710d5493846c2171543632788a){ echo "支付成功，应用订单号：{$OSWAP_c635a4bd32068b476d1de44283c01ef9}<br/>"; echo "财付通订单号:{$OSWAP_cd1e77d7f57d6feeb2df00407ba9d810}<br/>"; echo "支付金额:{$OSWAP_cab9aa23462ecc05c1c63445a6a60cfc}<br/>"; echo "支付完成时间:{$OSWAP_9ee6e442ea9bfcdf89ce23ec8233224c}<br/>"; echo "<br/>" . "即时到帐支付成功" . "<br/>"; }else{ TEMPLATE::display('fail.tpl'); } }else{ TEMPLATE::display('fail.tpl'); } }else{ echo "<br/>" . "认证签名失败" . "<br/>"; echo $OSWAP_218be2da51bf152852b9bcf3511b3b83->getDebugInfo() . "<br>"; TEMPLATE::display('fail.tpl'); } } function admin(){ need_admin(); $OSWAP_81f0b7856558b98bf47f6fc0d76e1e0f="tenpay"; $OSWAP_9347fb20c40c5a704740236df668e54b="财付通支付接口"; $OSWAP_de1e60d2731c70cee49ca88b11c71dd9=mac_url_get(1); if($OSWAP_de1e60d2731c70cee49ca88b11c71dd9==""){$OSWAP_de1e60d2731c70cee49ca88b11c71dd9="list";} $id="";$id=mac_url_get(2); $ok="";$ok=mac_url_get(3); $OSWAP_65e574e847b8840460a65c0eb6f8a5ff =array( array('商户号','text','财付通商户号'), array('密钥','text','财付通密钥'), ); if($OSWAP_de1e60d2731c70cee49ca88b11c71dd9=="editok"){ foreach( $OSWAP_65e574e847b8840460a65c0eb6f8a5ff as $OSWAP_6cdd9715d80a96cc74a9b83447b29800 => $OSWAP_820540ce2d05520b291e35e564d718e1){plug_eva($OSWAP_81f0b7856558b98bf47f6fc0d76e1e0f,$OSWAP_820540ce2d05520b291e35e564d718e1[0],_POST($OSWAP_820540ce2d05520b291e35e564d718e1[0]));} die("修改完成ok"); } AdminT::header($OSWAP_9347fb20c40c5a704740236df668e54b, ''); AdminT::search(); echo '<main class="page-content content-wrap">'; AdminT::navbar(); AdminT::sidebar(); echo '<div class="page-inner">'; AdminT::title($OSWAP_9347fb20c40c5a704740236df668e54b, '<li>网站设置</li>'); ?>	
<div id="main-wrapper" class="container"><div class="row"><div class="col-md-12"><div class="panel panel-primary"><div class="panel-body"><form role="form" id="settingfrom" class="form-horizontal form-groups-bordered">

<?php
 foreach( $OSWAP_65e574e847b8840460a65c0eb6f8a5ff as $OSWAP_6cdd9715d80a96cc74a9b83447b29800 => $OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566){ $OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[3]=plug_eva($OSWAP_81f0b7856558b98bf47f6fc0d76e1e0f,$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[0]); if($OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[1]=='text'){ $OSWAP_99d0f089c460a373bb6df12128f35b47="<input type=\"{$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[1]}\" value=\"{$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[3]}\" name=\"{$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[0]}\" class=\"form-control\">"; }elseif($OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[1]=='yesno' ){ if($OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[3]=='on'){$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566['yes_yesno']='checked="checked"';} else{$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566['no_yesno']='checked="checked"';} $OSWAP_99d0f089c460a373bb6df12128f35b47="<label><input type=\"radio\" name=\"{$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[0]}\" value=\"on\"{$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566['yes_yesno']}/ >是 </label><label><input type=\"radio\" name=\"{$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[0]}\" value=\"off\" {$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566['no_yesno']} />否</label> "; }elseif($OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[1]=='select' ){ $OSWAP_02d19ed89e737ed5d2c12ad248f0e409=""; $OSWAP_02d19ed89e737ed5d2c12ad248f0e409 .="<select name=\"{$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[0]}\" class=\"form-control\"></option>"; foreach( $OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[4] AS $OSWAP_e402c21a66234404770b0a2311569c17){ $OSWAP_f09430c5102f6cd4457902b8912b428f=""; if($OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[3]==$OSWAP_e402c21a66234404770b0a2311569c17){$OSWAP_f09430c5102f6cd4457902b8912b428f=' selected="selected"';} $OSWAP_02d19ed89e737ed5d2c12ad248f0e409 .=" <option value =\"{$OSWAP_e402c21a66234404770b0a2311569c17}\"{$OSWAP_f09430c5102f6cd4457902b8912b428f}>{$OSWAP_e402c21a66234404770b0a2311569c17}</option>"; } $OSWAP_02d19ed89e737ed5d2c12ad248f0e409 .="</select>"; $OSWAP_99d0f089c460a373bb6df12128f35b47=$OSWAP_02d19ed89e737ed5d2c12ad248f0e409; }else{$OSWAP_99d0f089c460a373bb6df12128f35b47="{$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[1]}-{$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[3]}";} echo("<div class=\"form-group\"><label class=\"col-sm-3 control-label\">{$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[0]}</label><div class=\"col-sm-5\">{$OSWAP_99d0f089c460a373bb6df12128f35b47}{$OSWAP_6dc0c3dbabe498a6f8a9ee8557ea3566[2]}</div></div>"); } ?> <div class="form-group"><div class="col-sm-offset-3 col-sm-5"><a href="javascript:void(0)" onclick="$.post('/index.php/plugin/<?php echo $OSWAP_81f0b7856558b98bf47f6fc0d76e1e0f ;?>/admin/editok/',$('#settingfrom').serialize(),function(data){if(data.match('ok')=='ok') swap_alert('success','保存成功',data); else swap_alert('error','保存失败',data);});" class="btn btn-success">保存更改</a></div></div></form></div></div></div></div></div></div><?php
 AdminT::page_footer(); echo '</div></main>'; AdminT::cd_nav(); AdminT::pjs(); echo '<script src="/admin_assets/plugins/waypoints/jquery.waypoints.min.js"></script><script src="/admin_assets/plugins/jquery-counterup/jquery.counterup.min.js"></script><script src="/admin_assets/plugins/toastr/toastr.min.js"></script><script src="/admin_assets/plugins/flot/jquery.flot.min.js"></script><script src="/admin_assets/plugins/flot/jquery.flot.time.min.js"></script><script src="/admin_assets/plugins/flot/jquery.flot.symbol.min.js"></script><script src="/admin_assets/plugins/flot/jquery.flot.resize.min.js"></script><script src="/admin_assets/plugins/flot/jquery.flot.tooltip.min.js"></script><script src="/admin_assets/plugins/curvedlines/curvedLines.js"></script><script src="/admin_assets/plugins/metrojs/MetroJs.min.js"></script><script src="/admin_assets/plugins/morris/raphael.min.js"></script><script src="/admin_assets/plugins/morris/morris.min.js"></script><script src="/admin_assets/js/modern.min.js"></script><script src="/admin_assets/plugins/datatables/js/jquery.dataTables.min.js"></script><script>var extable;$(document).ready(function(){extable=$(\'#example\').DataTable({"language":{"url":"https://cdn.datatables.net/plug-ins/e9421181788/i18n/Chinese.json"}});});</script></body></html>'; } }